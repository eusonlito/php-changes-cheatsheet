---
title: Date/time support
version: "5.1"
tags:
 - "5.1"
 - datetime
---
<div id="migration51.datetime" class="section">
  <h2 class="title">Date/time support</h2>
  <p class="para">
   Date/time support has been fully rewritten in PHP 5.1.x, and no longer uses
   the system settings to 'know' the timezone in operation. It will instead
   utilize, in the following order:
  </p>
  <ul class="itemizedlist"><li class="listitem">
    <p class="para">
     The timezone set using the <span class="function"><a href="https://www.php.net/manual/en/function.date-default-timezone-set.php" class="function">date_default_timezone_set()</a></span>
     function (if any)
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     The TZ environment variable (if non empty)
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     "magical" guess (if the operating system supports it)
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     If none of the above options succeeds, UTC
    </p>
   </li>
  </ul><div class="informalexample">
   <p class="para">
    To ensure accuracy (and avoid an <strong><code>E_STRICT</code></strong> warning),
    you will need to define your timezone in your <var class="filename">php.ini</var>
    using the following format:
   </p>
   <p class="para">
    date.timezone = Europe/London
   </p>
  </div>
  <p class="para">
   The supported timezones are listed, in this format, in the
   <a href="https://www.php.net/manual/en/timezones.php" class="link">timezones appendix</a>.
  </p>
  <p class="para">
   Also note that <span class="function"><a href="https://www.php.net/manual/en/function.strtotime.php" class="function">strtotime()</a></span> now returns <strong><code>false</code></strong> on
   failure, instead of -1. 
  </p>
 </div>