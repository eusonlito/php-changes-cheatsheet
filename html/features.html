<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">

        <title>New Features in PHP 8.3, 8.2, 8.1, 8.0, 7.4, 7.3, 7.2, 7.1, 7.0, 5.6, 5.5, 5.4, 5.3</title>

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="author" content="Lito && Ã“scar Otero">
        <meta name="title" content="New Features in PHP 8.3, 8.2, 8.1, 8.0, 7.4, 7.3, 7.2, 7.1, 7.0, 5.6, 5.5, 5.4, 5.3">

        <meta property="og:type" content="website">
        <meta property="og:url" content="https://eusonlito.github.io/php-changes-cheatsheet">
        <meta property="og:title" content="New Features in PHP 8.3, 8.2, 8.1, 8.0, 7.4, 7.3, 7.2, 7.1, 7.0, 5.6, 5.5, 5.4, 5.3">
        <meta property="og:image" content="./images/social.png">

        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:url" content="https://eusonlito.github.io/php-changes-cheatsheet">
        <meta name="twitter:site" content="@lito_ordes">
        <meta name="twitter:creator" content="@lito_ordes">
        <meta name="twitter:title" content="New Features in PHP 8.3, 8.2, 8.1, 8.0, 7.4, 7.3, 7.2, 7.1, 7.0, 5.6, 5.5, 5.4, 5.3">
        <meta name="twitter:image" content="./images/social.png">

        <link href="//fonts.googleapis.com/css?family=Fira+Sans|Droid+Sans|Source+Sans+Pro" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="./phpnet.css?1706799624" type="text/css" media="screen">
        <link rel="stylesheet" href="./styles.css?1706799624" type="text/css" media="screen">

        <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="./favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">

        <link rel="icon" href="./favicon.ico" type="image/x-icon">

        <meta name="theme-color" content="#ffffff">
    </head>

    <body class="docs">
        <section class="info-wrapper">
    <nav id="head-nav" class="navbar">
        <h1><a href="index.html"> New Features in PHP 8.3, 8.2, 8.1, 8.0, 7.4, 7.3, 7.2, 7.1, 7.0, 5.6, 5.5, 5.4, 5.3</a></h1>
    </nav>

    <main class="info-main">
        <article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration83.new-features.php" target="_blank">PHP 8.3</a></h1>
    </header>

    <div id="migration83.new-features" class="sect1">
 <h2 class="title">New Features</h2>

 <div class="sect2" id="migration83.new-features.core">
  <h3 class="title">PHP Core</h3>

  <div class="sect3" id="migration83.new-features.core.readonly-modifier-improvements">
   <h4 class="title">Readonly Amendments</h4>

   <p class="para">
    Anonymous classes may now be marked as readonly.
   </p>

   <p class="para">
    Readonly properties can now be reinitialized during cloning.
    
   </p>
  </div>

  <div class="sect3" id="migration83.new-features.core.typed-class-constants">
   <h4 class="title">Typed Class Constants</h4>

   <p class="para">
    Class, interface, trait, and enum constants now support type declarations.
    
   </p>
  </div>

  <div class="sect3" id="migration83.new-features.core.closures-created-from-magic-methods">
   <h4 class="title">Closures created from magic methods</h4>

   <p class="para">
    Closures created from magic methods can now accept named arguments.
   </p>
  </div>

  <div class="sect3" id="migration83.new-features.core.final-modifier-method-from-trait">
   <h4 class="title">The final modifier with a method from a trait</h4>

   <p class="para">
    The final modifier may now be used when using a method from a trait.
   </p>
  </div>

  <div class="sect3" id="migration83.new-features.core.override-attribute">
   <h4 class="title">Override Attribute</h4>

   <p class="para">
    Added the #[\Override] attribute to check that a method exists in a parent
    class or implemented interface.
    
   </p>
  </div>

  <div class="sect3" id="migration83.new-features.core.fetch-class-constant-dynamically-syntax">
   <h4 class="title">Fetch class constant dynamically syntax</h4>

   <p class="para">
    Class constants can now be accessed dynamically using the
    <code class="code">C::{$name}</code> syntax.
    
   </p>
  </div>

  <div class="sect3" id="migration83.new-features.core.static-variable-initializers">
   <h4 class="title">Static variable Initializers</h4>

   <p class="para">
    Static variable initializers can now contain arbitrary expressions.
    
   </p>
  </div>

  <div class="sect3" id="migration83.new-features.core.fallback-value-syntax-for-php-ini">
   <h4 class="title">Fallback value syntax for ini variables</h4>

   <p class="para">
    php.ini now supports fallback/default value syntax.
    
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #FF8000">/*<br>On /path/to/user.ini contains the following settings:<br><br>listen = localhost:${DRUPAL_FPM_PORT:-9000}<br>*/<br><br></span><span style="color: #0000BB">$user_ini </span><span style="color: #007700">= </span><span style="color: #0000BB">parse_ini_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/to/user.ini'</span><span style="color: #007700">);<br>echo </span><span style="color: #0000BB">$user_ini</span><span style="color: #007700">[</span><span style="color: #DD0000">'listen'</span><span style="color: #007700">]; </span><span style="color: #FF8000">// localhost:9000</span></span></code></div>
     </div>

    </div>

   
  </div>

 </div>

 <div class="sect2" id="migration83.new-features.cli">
  <h3 class="title">CLI</h3>

  <p class="para">
   It is now possible to lint multiple files.
  </p>
 </div>

 <div class="sect2" id="migration83.new-features.dom">
  <h3 class="title">DOM</h3>

  <p class="para">
   Added properties <span class="property">DOMElement::$className</span>
   and <span class="property">DOMElement::$id</span>.
   These are not binary-safe at the moment because of underlying limitations
   of libxml2.
   This means that the property values will be cut off at a NUL byte.
  </p>

  <p class="para">
   Added properties <span class="property">DOMNode::$isConnected</span>
   and <span class="property">DOMNameSpaceNode::$isConnected</span>.
  </p>

  <p class="para">
   Added properties <span class="property">DOMNode::$parentElement</span>
   and <span class="property">DOMNameSpaceNode::$parentElement</span>.
  </p>
 </div>

 <div class="sect2" id="migration83.new-features.ffi">
  <h3 class="title">FFI</h3>

  <p class="para">
   It is now possible to assign <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.ffi-cdata.php" class="classname">FFI\CData</a></span> to other FFI\CData.
   Meaning CData can now be assigned to structs and fields.
  </p>
 </div>

 <div class="sect2" id="migration83.new-features.opcache">
  <h3 class="title">Opcache</h3>

  <p class="para">
   <code class="code">opcache_get_status()['scripts'][n]['revalidate']</code> now contains
   a Unix timestamp of when the next revalidation of the scripts timestamp is
   due, dictated by the
   <a target="_blank" href="https://www.php.net/manual/en/opcache.configuration.php#ini.opcache.revalidate-freq" class="link">opcache.revalidate_freq</a>
   INI directive.
  </p>
 </div>

 <div class="sect2" id="migration83.new-features.posix">
  <h3 class="title">POSIX</h3>

  <p class="para">
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.posix-getrlimit.php" class="function">posix_getrlimit()</a></span> now takes an optional
   <code class="parameter">$res</code> parameter to allow fetching a single resource limit.
  </p>

  <p class="para">
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.posix-isatty.php" class="function">posix_isatty()</a></span> now raises type warnings for integers
   following the usual ZPP semantics.
  </p>

  <p class="para">
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.posix-ttyname.php" class="function">posix_ttyname()</a></span> now raises type warnings for integers
   following the usual ZPP semantics and value warnings for invalid file
   descriptor integers.
  </p>
 </div>

 <div class="sect2" id="migration83.new-features.streams">
  <h3 class="title">Streams</h3>

  <p class="para">
   Streams can now emit the <strong><code>STREAM_NOTIFY_COMPLETED</code></strong>
   notification. This was previously not implemented.
  </p>
 </div>

</div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration82.new-features.php" target="_blank">PHP 8.2</a></h1>
    </header>

    <div id="migration82.new-features" class="sect1">
 <h2 class="title">New Features</h2>

 <div class="sect2" id="migration82.new-features.core">
  <h3 class="title">PHP Core</h3>

  <div class="sect3" id="migration82.new-features.core.sensitiveparameter">
   <h4 class="title">SensitiveParameter Attribute</h4>

   <p class="para">
    Added the <code class="code">#[\SensitiveParameter]</code> attribute to redact
    sensitive data in backtraces.
    
   </p>
  </div>

  <div class="sect3" id="migration82.new-features.core.error-log-mode-ini">
   <h4 class="title">error_log_mode INI directive</h4>

   <p class="para">
    The <a target="_blank" href="https://www.php.net/manual/en/errorfunc.configuration.php#ini.error-log-mode" class="link">error_log_mode</a> INI directive has been added which allows setting
    the permissions for the error log file.
   </p>
  </div>

  <div class="sect3" id="migration82.new-features.core.enums-property-constant-expression">
   <h4 class="title">Enumerations properties in constant expressions</h4>

   <p class="para">
    It is now possible to fetch properties of
    <a target="_blank" href="https://www.php.net/manual/en/language.enumerations.php" class="link">Enumerations</a>
    in constant expressions.
    
   </p>
  </div>

  <div class="sect3" id="migration82.new-features.core.type-system">
   <h4 class="title">Type System Improvements</h4>

   <p class="para">
    It is now possible to use <span class="type">null</span> and <span class="type"><span class="type false">false</span></span>
    as stand-alone types.
    
   </p>

   <p class="para">
    The <span class="type"><span class="type true">true</span></span> type has been added.
    
   </p>

   <p class="para">
    It is now possible to combine intersection and union types.
    The type needs to be written in <abbr title="Disjunctive Normal Form">DNF</abbr>.
    
   </p>
  </div>

  <div class="sect3" id="migration82.new-features.core.constant-in-traits">
   <h4 class="title">Constants in Traits</h4>

   <p class="para">
    It is now possible to define constants in traits.
    
   </p>
   
  </div>

  <div class="sect3" id="migration82.new-features.core.readonly-classes">
   <h4 class="title">Readonly Classes</h4>

   <p class="para">
    Support for <a target="_blank" href="https://www.php.net/manual/en/language.oop5.basic.php#language.oop5.basic.class.readonly" class="link">readonly
    on classes</a> has been added.
    
   </p>
  </div>

 </div>

 <div class="sect2" id="migration82.new-features.curl">
  <h3 class="title">cURL</h3>

  <p class="para">
   Added the <strong><code>CURLINFO_EFFECTIVE_METHOD</code></strong> option,
   which returns the effective <abbr title="Hypertext Transfer Protocol">HTTP</abbr> method in the return value of
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.curl-getinfo.php" class="function">curl_getinfo()</a></span>.
  </p>

  <p class="para">
   Exposed <a target="_blank" href="https://www.php.net/manual/en/migration82.constants.php#migration82.constants.curl" class="link">multiple new constants</a> from libcurl 7.62 to 7.80.
  </p>

  <p class="para">
   Added the <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.curl_upkeep.php" class="function">curl_upkeep()</a></span> function to perform any connection upkeep checks.
  </p>
 </div>

 <div class="sect2" id="migration82.new-features.dba">
  <h3 class="title">DBA</h3>

  <p class="para">
   The LMDB Driver now accepts the <strong><code>DBA_LMDB_USE_SUB_DIR</code></strong> or
   <strong><code>DBA_LMDB_NO_SUB_DIR</code></strong> flags to determine if it should
   create a subdirectory or not when creating a database file.
  </p>
 </div>

 <div class="sect2" id="migration82.new-features.oci8">
  <h3 class="title">OCI8</h3>

  <p class="para">
   Added the <a target="_blank" href="https://www.php.net/manual/en/oci8.configuration.php#ini.oci8.prefetch-lob-size" class="link">oci8.prefetch_lob_size</a> INI directive and
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.oci-set-prefetch-lob.php" class="function">oci_set_prefetch_lob()</a></span> function to tune LOB query
   performance by reducing the number of round-trips between PHP and
   Oracle Databases when fetching LOBS.
   This is usable with Oracle Database 12.2 or later.
  </p>
 </div>

 <div class="sect2" id="migration82.new-features.openssl">
  <h3 class="title">OpenSSL</h3>

  <p class="para">
   Added AEAD support for the chacha20-poly1305 algorithm.
  </p>
 </div>

 <div class="sect2" id="migration82.new-features.odbc">
  <h3 class="title">ODBC</h3>

  <p class="para">
   Added the <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.odbc-connection-string-is-quoted.php" class="function">odbc_connection_string_is_quoted()</a></span>,
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.odbc-connection-string-should-quote.php" class="function">odbc_connection_string_should_quote()</a></span>, and
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.odbc-connection-string-quote.php" class="function">odbc_connection_string_quote()</a></span> functions.
   These are primarily used behind the scenes in the ODBC and PDO_ODBC extensions,
   but are exposed to userland for easier unit testing, and for user
   applications and libraries to perform quoting themselves.
  </p>
 </div>

 <div class="sect2" id="migration82.new-features.pcre">
  <h3 class="title">PCRE</h3>

  <p class="para">
   Added support for the <code class="literal">n</code> (NO_AUTO_CAPTURE) modifier,
   which makes simple <code class="code">(xyz)</code> groups non-capturing.
   Only named groups like <code class="code">(?<name>xyz)</name></code> are capturing.
   This only affects which groups are capturing, it is still possible to use
   numbered subpattern references, and the matches array will still contain
   numbered results.
  </p>
 </div>

 <div class="sect2" id="migration82.new-features.random">
  <h3 class="title">Random</h3>

  <p class="para">
   This is a new extension which organises and consolidates existing
   implementations related to random number generators.
   New and better RNGs are available with scope issues eliminated.
   
   
  </p>
 </div>

</div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration81.new-features.php" target="_blank">PHP 8.1</a></h1>
    </header>

    <div id="migration81.new-features" class="sect1">
 <h2 class="title">New Features</h2>

 <div class="sect2" id="migration81.new-features.core">
  <h3 class="title">PHP Core</h3>

  <div class="sect3" id="migration81.new-features.core.octal-literal-prefix">
   <h4 class="title">Integer Octal Literal Prefix</h4>

   <p class="para">
    Octal integers can now use an explicit
    <code class="literal">0o</code>/<code class="literal">0O</code>
    prefix in integer literals,
    similarly to binary and hexadecimal integer literals.
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />014</span><span style="color: #007700">;  </span><span style="color: #FF8000">// Non-prefix octal literal<br></span><span style="color: #0000BB">0o14</span><span style="color: #007700">; </span><span style="color: #FF8000">// Prefixed octal literal<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   
   
  </div>

  <div class="sect3" id="migration81.new-features.core.unpacking-string-keys">
   <h4 class="title">Array Unpacking with String Keys</h4>

   <p class="para">
    Added support for <a target="_blank" href="https://www.php.net/manual/en/language.types.array.php#language.types.array.unpacking" class="link">array unpacking with strings keys</a>.
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$arr1 </span><span style="color: #007700">= [</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #DD0000">'a' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'b'</span><span style="color: #007700">];<br></span><span style="color: #0000BB">$arr2 </span><span style="color: #007700">= [...</span><span style="color: #0000BB">$arr1</span><span style="color: #007700">, </span><span style="color: #DD0000">'c' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'d'</span><span style="color: #007700">]; </span><span style="color: #FF8000">//[1, 'a' =&gt; 'b', 'c' =&gt; 'd']<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   
   
  </div>

  <div class="sect3" id="migration81.new-features.core.named-arg-after-unpack">
   <h4 class="title">Named Argument After Argument Unpacking</h4>

   <p class="para">
    It is now possible to specify named arguments after an argument unpack.
    
    e.g.
    foo(...$args, named: $arg).
   </p>
  </div>

  <div class="sect3" id="migration81.new-features.core.upload-full-path-key">
   <h4 class="title">full-path Key for File Uploads</h4>

   <p class="para">
    File uploads now provide an additional <code class="literal">full_path</code> key,
    which contains the full path (rather than just the basename) of the uploaded file.
    This is intended for use in conjunction with "upload webkitdirectory".
   </p>
   
  </div>

  <div class="sect3" id="migration81.new-features.core.enums">
   <h4 class="title">Enumerations</h4>

   <p class="para">
    Support for <a target="_blank" href="https://www.php.net/manual/en/language.enumerations.php" class="link">Enumerations</a> has been added.
    
   </p>
  </div>

  <div class="sect3" id="migration81.new-features.core.fibers">
   <h4 class="title">Fibers</h4>

   <p class="para">
    Support for <a target="_blank" href="https://www.php.net/manual/en/language.fibers.php" class="link">Fibers</a> has been added.
    
   </p>
  </div>

  <div class="sect3" id="migration81.new-features.core.callable-syntax">
   <h4 class="title">First Class Callable Syntax</h4>

   <p class="para">
    Closures for callables can now be created using <a target="_blank" href="https://www.php.net/manual/en/functions.first_class_callable_syntax.php" class="link">the syntax <code class="code">myFunc(...)</code></a>,
    which is identical to <code class="code">Closure::fromCallable('myFunc')</code>.
    
   </p>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <span class="simpara">
     The <code class="code">...</code> is part of the syntax, and not an omission.
    </span>
   </p></blockquote>
  </div>

  <div class="sect3" id="migration81.new-features.core.intersection-types">
   <h4 class="title">Intersection Types</h4>

   <p class="para">
    Support for <a target="_blank" href="https://www.php.net/manual/en/language.types.type-system.php#language.types.type-system.composite.intersection" class="link">intersection types</a> has been added.
    
   </p>
   <div class="caution"><strong class="caution">Caution</strong>
    <p class="simpara">
     <a target="_blank" href="https://www.php.net/manual/en/language.types.type-system.php#language.types.type-system.composite.intersection" class="link">
      Intersection types</a> cannot be used together with
     <a target="_blank" href="https://www.php.net/manual/en/language.types.declarations.php#language.types.declarations.composite.union" class="link">
      union types</a>
    </p>
   </div>
  </div>

  <div class="sect3" id="migration81.new-features.core.never-type">
   <h4 class="title">Never type</h4>

   <p class="para">
    A new return only type <span class="type"><span class="type never">never</span></span> has been added.
    This indicates that a function either <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.exit.php" class="function">exit()</a></span>,
    throws an exception, or doesn't terminate.
    
   </p>
  </div>

  <div class="sect3" id="migration81.new-features.core.new-in-initializer">
   <h4 class="title"><a target="_blank" href="https://www.php.net/manual/en/language.oop5.basic.php#language.oop5.basic.new" class="link"><code class="literal">new</code></a> in Initializers</h4>

   <p class="para">
    It is now possible to use <code class="code">new ClassName()</code> expressions as the
    default value of a parameter, static variable, global constant initializers,
    and as attribute arguments.
    Objects can also be passed to <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.define.php" class="function">define()</a></span> now.
    
   </p>
   
  </div>

  <div class="sect3" id="migration81.new-features.core.readonly">
   <h4 class="title">Readonly properties</h4>

   <p class="para">
    Support for <a target="_blank" href="https://www.php.net/manual/en/language.oop5.properties.php#language.oop5.properties.readonly-properties" class="link">readonly</a> has been added.
    
   </p>
  </div>

  <div class="sect3" id="migration81.new-features.core.final-constants">
   <h4 class="title">Final class constants</h4>

   <p class="para">
    Added support for <a target="_blank" href="https://www.php.net/manual/en/language.oop5.final.php#language.oop5.final.example.php81" class="link">the <span class="modifier">final</span> modifier for class constants</a>.
    Also, interface constants become overridable by default.
    
   </p>
  </div>

 </div>

 <div class="sect2" id="migration81.new-features.curl">
  <h3 class="title">CURL</h3>

  <p class="para">
   Added the <strong><code>CURLOPT_DOH_URL</code></strong> option.
  </p>

  <p class="para">
   Added options for blob certificate when libcurl &gt;= 7.71.0:
  </p>
  <ul class="itemizedlist"><li class="listitem">
    <span class="simpara"><strong><code>CURLOPT_ISSUERCERT_BLOB</code></strong></span>
   </li>
   <li class="listitem">
    <span class="simpara"><strong><code>CURLOPT_PROXY_ISSUERCERT</code></strong></span>
   </li>
   <li class="listitem">
    <span class="simpara"><strong><code>CURLOPT_PROXY_ISSUERCERT_BLOB</code></strong></span>
   </li>
   <li class="listitem">
    <span class="simpara"><strong><code>CURLOPT_PROXY_SSLCERT_BLOB</code></strong></span>
   </li>
   <li class="listitem">
    <span class="simpara"><strong><code>CURLOPT_PROXY_SSLKEY_BLOB</code></strong></span>
   </li>
   <li class="listitem">
    <span class="simpara"><strong><code>CURLOPT_SSLCERT_BLOB</code></strong></span>
   </li>
   <li class="listitem">
    <span class="simpara"><strong><code>CURLOPT_SSLKEY_BLOB</code></strong></span>
   </li>
  </ul><p class="para">
   Added <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.curlstringfile.php" class="classname">CURLStringFile</a></span>, which can be used to post
   a file from a <span class="type">string</span> rather than a file:
   </p><div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$file </span><span style="color: #007700">= new </span><span style="color: #0000BB">CURLStringFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #DD0000">'filename.txt'</span><span style="color: #007700">, </span><span style="color: #DD0000">'text/plain'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$curl</span><span style="color: #007700">, </span><span style="color: #0000BB">CURLOPT_POSTFIELDS</span><span style="color: #007700">, [</span><span style="color: #DD0000">'file' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$file</span><span style="color: #007700">]);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>

 <div class="sect2" id="migration81.new-features.fpm">
  <h3 class="title">FPM</h3>

  <p class="para">
   Added openmetrics status format. It can be used by Prometheus to fetch FPM
   metrics.
  </p>
  <p class="para">
   Added new pool option for the dynamic process manager called
   <code class="literal">pm.max_spawn_rate</code>. It allows to start a number of children
   at a faster rate when dynamic pm is selected.
   The default value is <code class="literal">32</code> which was the previous
   hard coded value.
  </p>
 </div>

 <div class="sect2" id="migration81.new-features.gd">
  <h3 class="title">GD</h3>

  <p class="para">
   Avif support is now available through
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.imagecreatefromavif.php" class="function">imagecreatefromavif()</a></span> and
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.imageavif.php" class="function">imageavif()</a></span>,
   if libgd has been built with Avif support.
  </p>
 </div>

 <div class="sect2" id="migration81.new-features.hash">
  <h3 class="title">Hash</h3>

  <p class="para">
   The following functions <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.hash.php" class="function">hash()</a></span>,
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.hash-file.php" class="function">hash_file()</a></span>, and <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.hash-init.php" class="function">hash_init()</a></span>
   now support an additional optional <code class="parameter">options</code>
   argument, which can be used to pass algorithm specific data.
  </p>

  <div class="sect3" id="migration81.new-features.hash.murmurhash3">
   <h4 class="title">MurmurHash3</h4>

   <p class="para">
    Added support for <code class="literal">MurmurHash3</code> with streaming
    support. The following variants are implemented:
   </p>
   <ul class="itemizedlist"><li class="listitem">
     <span class="simpara">murmur3a, 32-bit hash</span>
    </li>
    <li class="listitem">
     <span class="simpara">murmur3c, 128-bit hash for x86</span>
    </li>
    <li class="listitem">
     <span class="simpara">murmur3f, 128-bit hash for x64</span>
    </li>
   </ul><p class="para">
    The initial hash state can be passed through the <code class="literal">seed</code>
    key in the <code class="parameter">options</code> array, for example:

    </p><div class="informalexample">
     <div class="example-contents">
      <div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$h </span><span style="color: #007700">= </span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">"murmur3f"</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">options</span><span style="color: #007700">: [</span><span style="color: #DD0000">"seed" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">42</span><span style="color: #007700">]);<br>echo </span><span style="color: #0000BB">$h</span><span style="color: #007700">, </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>

    A valid seed value is within the range from <code class="literal">0</code>
    to the platform defined <strong><code>UINT_MAX</code></strong>, usually
    <code class="literal">4294967295</code>.
   
  </div>

  <div class="sect3" id="migration81.new-features.hash.xxhash">
   <h4 class="title">xxHash</h4>

   <p class="para">
    Added support for <code class="literal">xxHash</code>.
    The following variants are implemented:
   </p>
   <ul class="itemizedlist"><li class="listitem">
     <span class="simpara">xxh32, 32-bit hash</span>
    </li>
    <li class="listitem">
     <span class="simpara">xxh64, 64-bit hash</span>
    </li>
    <li class="listitem">
     <span class="simpara">xxh3, 64-bit hash</span>
    </li>
    <li class="listitem">
     <span class="simpara">xxh128, 128-bit hash</span>
    </li>
   </ul><p class="para">
    The initial hash state can be passed through the <code class="literal">seed</code>
    key in the <code class="parameter">options</code> array, for example:

    </p><div class="informalexample">
     <div class="example-contents">
      <div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$h </span><span style="color: #007700">= </span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">"xxh3"</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">options</span><span style="color: #007700">: [</span><span style="color: #DD0000">"seed" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">42</span><span style="color: #007700">]);<br>echo </span><span style="color: #0000BB">$h</span><span style="color: #007700">, </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>

    Secret usage is supported through passing the <code class="literal">secret</code>
    key in the <code class="parameter">options</code> array, too:

    <div class="informalexample">
     <div class="example-contents">
      <div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$h </span><span style="color: #007700">= </span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #DD0000">"xxh3"</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">, </span><span style="color: #0000BB">options</span><span style="color: #007700">: [</span><span style="color: #DD0000">"secret" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"at least 136 bytes long secret here"</span><span style="color: #007700">]);<br>echo </span><span style="color: #0000BB">$h</span><span style="color: #007700">, </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>

    The quality of the custom secret is crucial for the quality of the resulting hash.
    It is highly recommended for the secret to use the best possible entropy.
   
  </div>
 </div>

 <div class="sect2" id="migration81.new-features.mysqli">
  <h3 class="title">MySQLi</h3>

  <div class="sect3" id="migration81.new-features.mysqli.local_infile_directory">
   <h4 class="title">New INI directive <code class="literal">mysqli.local_infile_directory</code></h4>

   <p class="para">
    The <a target="_blank" href="https://www.php.net/manual/en/mysqli.configuration.php#ini.mysqli.local-infile-directory" class="link">mysqli.local_infile_directory</a>
    INI directive has been added, which can be used to specify a directory from
    which files are allowed to be loaded. It is only meaningful if
    <a target="_blank" href="https://www.php.net/manual/en/mysqli.configuration.php#ini.mysqli.allow-local-infile" class="link">mysqli.allow_local_infile</a>
    is not enabled, as all directories are allowed in that case.
   </p>
  </div>

  <div class="sect3" id="migration81.new-features.mysqli.bind-in-execute">
   <h4 class="title">Binding parameters in execute</h4>

   <p class="para">
    It is now possible to bind parameters by passing them as an array to
    <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/mysqli-stmt.execute.php" class="methodname">mysqli_stmt::execute()</a></span>. All values will be bound as
    strings. Only list arrays are allowed. This new feature is not available
    when MySQLi is compiled with libmysqlclient.
    
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$stmt </span><span style="color: #007700">= </span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prepare</span><span style="color: #007700">(</span><span style="color: #DD0000">'INSERT INTO users(id, name) VALUES(?,?)'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$stmt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">execute</span><span style="color: #007700">([</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">$username</span><span style="color: #007700">]);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   
  </div>

  <div class="sect3" id="migration81.new-features.mysqli.mysqli_fetch_column">
   <h4 class="title">New method <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/mysqli-result.fetch-column.php" class="methodname">mysqli_result::fetch_column()</a></span></h4>

   <p class="para">
    <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/mysqli-result.fetch-column.php" class="methodname">mysqli_result::fetch_column()</a></span>
    has been added to allow fetching a single scalar value from the result set.
    The new method accepts an optional 0-based <code class="parameter">column</code>
    parameter of type <span class="type">int</span> specifying which column to fetch from.
    
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$result </span><span style="color: #007700">= </span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT username FROM users WHERE id = 123'</span><span style="color: #007700">);<br>echo </span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch_column</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   
  </div>

 </div>

 <div class="sect2" id="migration81.new-features.pdo_mysql">
  <h3 class="title">PDO</h3>

  <p class="para">
   The <strong><code>PDO::MYSQL_ATTR_LOCAL_INFILE_DIRECTORY</code></strong> attribute
   has been added, which can be used to specify a directory from which files
   are allowed to be loaded.
   It is only meaningful if <strong><code>PDO::MYSQL_ATTR_LOCAL_INFILE</code></strong>
   is not enabled, as all directories are allowed in that case.
  </p>
 </div>

 <div class="sect2" id="migration81.new-features.pdo_sqlite">
  <h3 class="title">PDO_SQLite</h3>

  <p class="para">
   SQLite's <code class="literal">"file:"</code> DSN syntax is now supported,
   which allows specifying additional flags.
   This feature is not available if open_basedir is set.
   </p><div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">new </span><span style="color: #0000BB">PDO</span><span style="color: #007700">(</span><span style="color: #DD0000">'sqlite:file:path/to/sqlite.db?mode=ro'</span><span style="color: #007700">)<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  
 </div>

 <div class="sect2" id="migration81.new-features.posix">
  <h3 class="title">POSIX</h3>

  <p class="para">
   Added <strong><code>POSIX_RLIMIT_KQUEUES</code></strong> and <strong><code>POSIX_RLIMIT_NPTS</code></strong>.
   These rlimits are only available on FreeBSD.
  </p>
 </div>

 <div class="sect2" id="migration81.new-features.standard">
  <h3 class="title">Standard</h3>

  <p class="para">
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.fputcsv.php" class="function">fputcsv()</a></span> now accepts a new
   <code class="parameter">eol</code> argument which allows to define a custom
   End of Line sequence, the default remains the same and is <code class="literal">"\n"</code>.
  </p>
 </div>

 <div class="sect2" id="migration81.new-features.spl">
  <h3 class="title">SPL</h3>

  <p class="para">
   <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/splfileobject.fputcsv.php" class="methodname">SplFileObject::fputcsv()</a></span> now accepts a new
   <code class="parameter">eol</code> argument which allows to define a custom
   End of Line sequence, the default remains the same and is <code class="literal">"\n"</code>.
  </p>
 </div>

</div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration80.new-features.php" target="_blank">PHP 8.0</a></h1>
    </header>

    <div id="migration80.new-features" class="sect1">
 <h2 class="title">New Features</h2>

 <div class="sect2" id="migration80.new-features.core">
  <h3 class="title">PHP Core</h3>

  <div class="sect3" id="migration80.new-features.core.named-arguments">
   <h4 class="title">Named Arguments</h4>

   <p class="para">
    
    Support for <a target="_blank" href="https://www.php.net/manual/en/functions.arguments.php#functions.named-arguments" class="link">Named Arguments</a> has been added.
   </p>
  </div>

  <div class="sect3" id="migration80.new-features.core.attributes">
   <h4 class="title">Attributes</h4>

   <p class="para">
    Support for <a target="_blank" href="https://www.php.net/manual/en/language.attributes.php" class="link">Attributes</a> has been added.
    
    
    
    
   </p>
  </div>

  <div class="sect3" id="migration80.new-features.core.property-promotion">
   <h4 class="title">Constructor Property Promotion</h4>

   <p class="para">
    Support for <a target="_blank" href="https://www.php.net/manual/en/language.oop5.decon.php#language.oop5.decon.constructor.promotion" class="link">constructor property promotion</a> (declaring properties in the constructor signature)
    has been added.
    
   </p>
  </div>

  <div class="sect3" id="migration80.new-features.core.union-types">
   <h4 class="title">Union Types</h4>

   <p class="para">
    Support for <a target="_blank" href="https://www.php.net/manual/en/language.types.declarations.php#language.types.declarations.composite.union" class="link">union types</a> has been added.
    
   </p> 
  </div>

  <div class="sect3" id="migration80.new-features.core.match">
   <h4 class="title">Match Expression</h4>

   <p class="para">
    Support for <a target="_blank" href="https://www.php.net/manual/en/control-structures.match.php" class="link"><code class="literal">match</code> expressions</a> has been added.
    
   </p>
  </div>

  <div class="sect3" id="migration80.new-features.core.nullsafe-operator">
   <h4 class="title">Nullsafe Operator</h4>

   <p class="para">
    Support for the <a target="_blank" href="https://www.php.net/manual/en/language.oop5.basic.php#language.oop5.basic.nullsafe" class="link">nullsafe operator</a> (<code class="literal">?-&gt;</code>) has been added.
    
   </p>
  </div>

  <div class="sect3" id="migration80.new-features.core.others">
   <h4 class="title">Other new Features</h4>

   <ul class="itemizedlist"><li class="listitem">
     <p class="para">
      The <a target="_blank" href="https://www.php.net/manual/en/class.weakmap.php" class="link">WeakMap</a> class has been added.
      
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      The <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.valueerror.php" class="classname">ValueError</a></span> class has been added.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Any number of function parameters may now be replaced by a variadic argument, as long as the
      types are compatible. For example, the following code is now allowed:
     </p>
     <p class="para">
      </p><div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">class </span><span style="color: #0000BB">A </span><span style="color: #007700">{<br>     public function </span><span style="color: #0000BB">method</span><span style="color: #007700">(</span><span style="color: #0000BB">int $many</span><span style="color: #007700">, </span><span style="color: #0000BB">string $parameters</span><span style="color: #007700">, </span><span style="color: #0000BB">$here</span><span style="color: #007700">) {}<br>}<br>class </span><span style="color: #0000BB">B </span><span style="color: #007700">extends </span><span style="color: #0000BB">A </span><span style="color: #007700">{<br>     public function </span><span style="color: #0000BB">method</span><span style="color: #007700">(...</span><span style="color: #0000BB">$everything</span><span style="color: #007700">) {}<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
      </div>

     
    </li>
    <li class="listitem">
     <p class="para">
      <span class="type"><span class="type static">static</span></span> (as in "late static binding") can now be used as a return type:
     </p>
     <p class="para">
      </p><div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">class </span><span style="color: #0000BB">Test </span><span style="color: #007700">{<br>     public function </span><span style="color: #0000BB">create</span><span style="color: #007700">(): static {<br>          return new static();<br>     }<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
      </div>

      
     
    </li>
    <li class="listitem">
     <p class="para">
      It is now possible to fetch the class name of an object using
      <code class="code">$object::class</code>. The result is the same as <code class="code">get_class($object)</code>.
      
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <a target="_blank" href="https://www.php.net/manual/en/language.oop5.basic.php#language.oop5.basic.new" class="link"><code class="literal">new</code></a> and <a target="_blank" href="https://www.php.net/manual/en/language.operators.type.php" class="link"><code class="literal">instanceof</code></a> can now be used with arbitrary expressions,
      using <code class="code">new (expression)(...$args)</code> and <code class="code">$obj instanceof (expression)</code>.
      
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Some consistency fixes to variable syntax have been applied, for example writing
      <code class="code">Foo::BAR::$baz</code> is now allowed.
      
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Added <span class="interfacename"><a target="_blank" href="https://www.php.net/manual/en/class.stringable.php" class="interfacename">Stringable</a></span> interface, which is automatically implemented if
      a class defines a <a target="_blank" href="https://www.php.net/manual/en/language.oop5.magic.php#object.tostring" class="link">__toString()</a> method.
      
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Traits can now define abstract private methods.
      Such methods must be implemented by the class using the trait.
      
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <code class="literal">throw</code> can now be used as an expression.
      That allows usages like:
      </p><div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$fn </span><span style="color: #007700">= fn() =&gt; throw new </span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'Exception in arrow function'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$user </span><span style="color: #007700">= </span><span style="color: #0000BB">$session</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">user </span><span style="color: #007700">?? throw new </span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'Must have user'</span><span style="color: #007700">);</span></span></code></div>
      </div>

      
     
    </li>
    <li class="listitem">
     <p class="para">
      An optional trailing comma is now allowed in parameter lists.
      </p><div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">function </span><span style="color: #0000BB">functionWithLongSignature</span><span style="color: #007700">(<br></span><span style="color: #0000BB">Type1 $parameter1</span><span style="color: #007700">,<br></span><span style="color: #0000BB">Type2 $parameter2</span><span style="color: #007700">, </span><span style="color: #FF8000">// &lt;-- This comma is now allowed.<br></span><span style="color: #007700">) {<br>}</span></span></code></div>
      </div>

      
     
    </li>
    <li class="listitem">
     <p class="para">
      It is now possible to write <code class="code">catch (Exception)</code> to catch an exception without storing
      it in a variable.
      
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Support for <span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.declarations.php#language.types.declarations.mixed" class="type mixed">mixed</a></span> type has been added.
      
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Private methods declared on a parent class no longer enforce any inheritance rules on the methods
      of a child class (with the exception of final private constructors).
      The following example illustrates which restrictions have been removed:
      </p><div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">class </span><span style="color: #0000BB">ParentClass </span><span style="color: #007700">{<br>    private function </span><span style="color: #0000BB">method1</span><span style="color: #007700">() {}<br>    private function </span><span style="color: #0000BB">method2</span><span style="color: #007700">() {}<br>    private static function </span><span style="color: #0000BB">method3</span><span style="color: #007700">() {}<br></span><span style="color: #FF8000">// Throws a warning, as "final" no longer has an effect:<br></span><span style="color: #007700">private final function </span><span style="color: #0000BB">method4</span><span style="color: #007700">() {}<br>}<br>class </span><span style="color: #0000BB">ChildClass </span><span style="color: #007700">extends </span><span style="color: #0000BB">ParentClass </span><span style="color: #007700">{<br></span><span style="color: #FF8000">// All of the following are now allowed, even though the modifiers aren't<br>    // the same as for the private methods in the parent class.<br></span><span style="color: #007700">public abstract function </span><span style="color: #0000BB">method1</span><span style="color: #007700">() {}<br>    public static function </span><span style="color: #0000BB">method2</span><span style="color: #007700">() {}<br>    public function </span><span style="color: #0000BB">method3</span><span style="color: #007700">() {}<br>    public function </span><span style="color: #0000BB">method4</span><span style="color: #007700">() {}<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
      </div>

      
     
    </li>
    <li class="listitem">
     <p class="para">
      <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.get-resource-id.php" class="function">get_resource_id()</a></span> has been added, which returns the same value as
      <code class="code">(int) $resource</code>. It provides the same functionality under a clearer API.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      The <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.internaliterator.php" class="classname">InternalIterator</a></span> has been added.
     </p>
    </li>
   </ul></div>
 </div>

 <div class="sect2" id="migration80.new-features.date">
  <h3 class="title">Date and Time</h3>
  
  <ul class="itemizedlist"><li class="listitem">
    <p class="para">
     <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/datetime.createfrominterface.php" class="methodname">DateTime::createFromInterface()</a></span> and
     <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/datetimeimmutable.createfrominterface.php" class="methodname">DateTimeImmutable::createFromInterface()</a></span> have been added.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     The DateTime format specifier <code class="literal">p</code> has been added, which is the same as
     <code class="literal">P</code> but returns <code class="literal">Z</code> rather than <code class="literal">+00:00</code>
     for UTC.
    </p>
   </li>
  </ul></div>

 <div class="sect2" id="migration80.new-features.dom">
  <h3 class="title">DOM</h3>

  <p class="para">
   <span class="interfacename"><a target="_blank" href="https://www.php.net/manual/en/class.domparentnode.php" class="interfacename">DOMParentNode</a></span> and <span class="interfacename"><a target="_blank" href="https://www.php.net/manual/en/class.domchildnode.php" class="interfacename">DOMChildNode</a></span> with
   new traversal and manipulation APIs have been added.
   
  </p>
 </div>

 <div class="sect2" id="migration80.new-features.filter">
  <h3 class="title">Filter</h3>

  <p class="para">
   <strong><code>FILTER_VALIDATE_BOOL</code></strong> has been added as an alias for
   <strong><code>FILTER_VALIDATE_BOOLEAN</code></strong>. The new name is preferred, as it uses the canonical
   type name.
  </p>
 </div>

 <div class="sect2" id="migration80.new-features.enchant">
  <h3 class="title">Enchant</h3>

  <p class="para">
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.enchant-dict-add.php" class="function">enchant_dict_add()</a></span>, <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.enchant-dict-is-added.php" class="function">enchant_dict_is_added()</a></span>, and
   <strong><code>LIBENCHANT_VERSION</code></strong> have been added.
  </p>
 </div>

 <div class="sect2" id="migration80.new-features.fpm">
  <h3 class="title">FPM</h3>

  <p class="para">
   Added a new option <code class="literal">pm.status_listen</code> that allows getting the status from
   different endpoint (e.g. port or UDS file) which is useful for getting the status when all
   children are busy with serving long running requests.
  </p>
 </div>

 <div class="sect2" id="migration80.new-features.hash">
  <h3 class="title">Hash</h3>

  <p class="para">
   <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.hashcontext.php" class="classname">HashContext</a></span> objects can now be serialized.
  </p>
 </div>

 <div class="sect2" id="migration80.new-features.intl">
  <h3 class="title">Internationalization Functions</h3>

  <p class="para">
   The <strong><code>IntlDateFormatter::RELATIVE_FULL</code></strong>,
   <strong><code>IntlDateFormatter::RELATIVE_LONG</code></strong>,
   <strong><code>IntlDateFormatter::RELATIVE_MEDIUM</code></strong>, and
   <strong><code>IntlDateFormatter::RELATIVE_SHORT</code></strong>
   constants have been added.
  </p>
 </div>

 <div class="sect2" id="migration80.new-features.ldap">
  <h3 class="title">LDAP</h3>

  <p class="para">
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-count-references.php" class="function">ldap_count_references()</a></span> has been added, which returns the number
   of reference messages in a search result.
  </p>
 </div>
 <div class="sect2" id="migration80.new-features.opcache">
  <h3 class="title">OPcache</h3>

  <p class="para">
   If the opcache.record_warnings ini setting is
   enabled, OPcache will record compile-time warnings and replay them on the next include, even if
   it is served from cache.
  </p>
 </div>

 <div class="sect2" id="migration80.new-features.openssl">
  <h3 class="title">OpenSSL</h3>

  <p class="para">
   Added Cryptographic Message Syntax (CMS) (<a target="_blank" href="https://www.php.net/manual/en/http://www.faqs.org/rfcs/rfc5652" class="link external">Â»Â RFC 5652</a>)
   support composed of functions for encryption, decryption, signing, verifying and reading. The API
   is similar to the API for <abbr title="Public Key Cryptography Standards">PKCS</abbr> #7 functions with an addition of new encoding constants:
   <strong><code>OPENSSL_ENCODING_DER</code></strong>, <strong><code>OPENSSL_ENCODING_SMIME</code></strong>
   and <strong><code>OPENSSL_ENCODING_PEM</code></strong>:
   </p><ul class="simplelist"><li class="member">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.openssl-cms-encrypt.php" class="function">openssl_cms_encrypt()</a></span> encrypts the message in the file with the certificates
     and outputs the result to the supplied file.
    </li>
    <li class="member">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.openssl-cms-decrypt.php" class="function">openssl_cms_decrypt()</a></span> that decrypts the S/MIME message in the file and outputs
     the results to the supplied file.
    </li>
    <li class="member">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.openssl-cms-read.php" class="function">openssl_cms_read()</a></span> that exports the CMS file to an array
     of <abbr title="Privacy-Enhanced Mail">PEM</abbr> certificates.
    </li>
    <li class="member">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.openssl-cms-sign.php" class="function">openssl_cms_sign()</a></span> that signs the MIME message in the file with a cert and key
     and output the result to the supplied file.
    </li>
    <li class="member">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.openssl-cms-verify.php" class="function">openssl_cms_verify()</a></span> that verifies that the data block is intact, the signer
     is who they say they are, and returns the certs of the signers.
    </li>
   </ul></div>

 <div class="sect2" id="migration80.new-features.pcre">
  <h3 class="title">Regular Expressions (Perl-Compatible)</h3>

  <p class="para">
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.preg-last-error-msg.php" class="function">preg_last_error_msg()</a></span> has been added, which returns a human-readable message for the last
   PCRE error. It complements <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.preg-last-error.php" class="function">preg_last_error()</a></span>, which returns an integer enum value
   instead.
  </p>
 </div>

 <div class="sect2" id="migration80.new-features.reflection">
  <h3 class="title">Reflection</h3>

  <ul class="itemizedlist"><li class="listitem">
    <p class="para">
     The following methods can now return information about default values of
     parameters of internal functions:
    </p>
    <p class="para">
     </p><ul class="simplelist"><li class="member"><span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/reflectionparameter.isdefaultvalueavailable.php" class="methodname">ReflectionParameter::isDefaultValueAvailable()</a></span></li>
      <li class="member"><span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/reflectionparameter.getdefaultvalue.php" class="methodname">ReflectionParameter::getDefaultValue()</a></span></li>
      <li class="member"><span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/reflectionparameter.isdefaultvalueconstant.php" class="methodname">ReflectionParameter::isDefaultValueConstant()</a></span></li>
      <li class="member"><span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/reflectionparameter.getdefaultvalueconstantname.php" class="methodname">ReflectionParameter::getDefaultValueConstantName()</a></span></li>
     </ul></li>
  </ul></div>

 <div class="sect2" id="migration80.new-features.sqlite3">
  <h3 class="title">SQLite3</h3>

  <p class="para">
   <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/sqlite3.setauthorizer.php" class="methodname">SQLite3::setAuthorizer()</a></span> and respective class constants have been added
   to set a userland callback that will be used to authorize or not an action on the database.
   
  </p>
 </div>

 <div class="sect2" id="migration80.new-features.standard">
  <h3 class="title">Standard Library</h3>

  <ul class="itemizedlist"><li class="listitem">
    <p class="para">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.str-contains.php" class="function">str_contains()</a></span>, <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.str-starts-with.php" class="function">str_starts_with()</a></span> and
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.str-ends-with.php" class="function">str_ends_with()</a></span> have been added, which check whether <code class="parameter">haystack</code> contains,
     starts with or ends with <code class="parameter">needle</code>, respectively.
     
     
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.fdiv.php" class="function">fdiv()</a></span> has been added, which performs a floating-point division under IEEE 754 semantics.
     Division by zero is considered well-defined and will return one of <code class="literal">Inf</code>,
     <code class="literal">-Inf</code> or <code class="literal">NaN</code>.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.get-debug-type.php" class="function">get_debug_type()</a></span> has been added, which returns a type useful for error messages. Unlike
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.gettype.php" class="function">gettype()</a></span>, it uses canonical type names, returns class names for objects, and
     indicates the resource type for resources.
     
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.printf.php" class="function">printf()</a></span> and friends now support the <code class="literal">%h</code> and
     <code class="literal">%H</code> format specifiers. These are the same as <code class="literal">%g</code> and
     <code class="literal">%G</code>, but always use <code class="literal">"."</code> as the decimal separator, rather
     than determining it through the <strong><code>LC_NUMERIC</code></strong> locale.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.printf.php" class="function">printf()</a></span> and friends now support using <code class="literal">"*"</code> as width or
     precision, in which case the width/precision is passed as an argument to printf. This also allows
     using precision <code class="literal">-1</code> with <code class="literal">%g</code>, <code class="literal">%G</code>,
     <code class="literal">%h</code> and <code class="literal">%H</code>. For example, the following code can be used to
     reproduce PHP's default floating point formatting:
    </p>
    <p class="para">
     </p><div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"%.*H"</span><span style="color: #007700">, (int) </span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">"precision"</span><span style="color: #007700">), </span><span style="color: #0000BB">$float</span><span style="color: #007700">);<br></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"%.*H"</span><span style="color: #007700">, (int) </span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">"serialize_precision"</span><span style="color: #007700">), </span><span style="color: #0000BB">$float</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    
   </li>
   <li class="listitem">
    <p class="para">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.proc-open.php" class="function">proc_open()</a></span> now supports pseudo-terminal (PTY) descriptors. The following
     attaches <code class="literal">stdin</code>, <code class="literal">stdout</code> and <code class="literal">stderr</code> to the
     same PTY:
    </p>
    <p class="para">
     </p><div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$proc </span><span style="color: #007700">= </span><span style="color: #0000BB">proc_open</span><span style="color: #007700">(</span><span style="color: #0000BB">$command</span><span style="color: #007700">, [[</span><span style="color: #DD0000">'pty'</span><span style="color: #007700">], [</span><span style="color: #DD0000">'pty'</span><span style="color: #007700">], [</span><span style="color: #DD0000">'pty'</span><span style="color: #007700">]], </span><span style="color: #0000BB">$pipes</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    
   </li>
   <li class="listitem">
    <p class="para">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.proc-open.php" class="function">proc_open()</a></span> now supports socket pair descriptors. The following attaches a
     distinct socket pair to <code class="literal">stdin</code>, <code class="literal">stdout</code> and
     <code class="literal">stderr</code>:
    </p>
    <p class="para">
     </p><div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$proc </span><span style="color: #007700">= </span><span style="color: #0000BB">proc_open</span><span style="color: #007700">(</span><span style="color: #0000BB">$command</span><span style="color: #007700">, [[</span><span style="color: #DD0000">'socket'</span><span style="color: #007700">], [</span><span style="color: #DD0000">'socket'</span><span style="color: #007700">], [</span><span style="color: #DD0000">'socket'</span><span style="color: #007700">]], </span><span style="color: #0000BB">$pipes</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    
    <p class="para">
     Unlike pipes, sockets do not suffer from blocking I/O issues on Windows. However, not all
     programs may work correctly with stdio sockets.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Sorting functions are now stable, which means that equal-comparing elements will retain their
     original order.
     
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.array-diff.php" class="function">array_diff()</a></span>, <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.array-intersect.php" class="function">array_intersect()</a></span> and their variations can
     now be used with a single array as argument. This means that usages like the following are now
     possible:
    </p>
    <p class="para">
     </p><div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #FF8000">// OK even if $excludes is empty:<br></span><span style="color: #0000BB">array_diff</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">, ...</span><span style="color: #0000BB">$excludes</span><span style="color: #007700">);<br></span><span style="color: #FF8000">// OK even if $arrays only contains a single array:<br></span><span style="color: #0000BB">array_intersect</span><span style="color: #007700">(...</span><span style="color: #0000BB">$arrays</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    
   </li>
   <li class="listitem">
    <p class="para">
     The <code class="parameter">flag</code> parameter of <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ob-implicit-flush.php" class="function">ob_implicit_flush()</a></span> was changed
     to accept a <span class="type">bool</span> rather than an <span class="type">int</span>.
    </p>
   </li>
  </ul></div>

 <div class="sect2" id="migration80.new-features.tokenizer">
  <h3 class="title">Tokenizer</h3>

  <p class="para">
   <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.phptoken.php" class="classname">PhpToken</a></span> adds an object-based interface to the tokenizer. It provides a
   more uniform and ergonomic representation, while being more memory efficient and faster.
   
  </p>
 </div>

 <div class="sect2" id="migration80.new-features.zip">
  <h3 class="title">Zip</h3>

  <ul class="itemizedlist"><li class="listitem">
    <p class="para">
     The Zip extension has been updated to version 1.19.1.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     New <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/ziparchive.setmtimename.php" class="methodname">ZipArchive::setMtimeName()</a></span> and
     <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/ziparchive.setmtimeindex.php" class="methodname">ZipArchive::setMtimeIndex()</a></span> to set the modification time of an entry.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     New <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/ziparchive.registerprogresscallback.php" class="methodname">ZipArchive::registerProgressCallback()</a></span> to provide updates during archive close.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     New <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/ziparchive.registercancelcallback.php" class="methodname">ZipArchive::registerCancelCallback()</a></span> to allow cancellation during archive
     close.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     New <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/ziparchive.replacefile.php" class="methodname">ZipArchive::replaceFile()</a></span> to replace an entry content.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     New <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/ziparchive.iscompressionmethoddupported.php" class="methodname">ZipArchive::isCompressionMethodSupported()</a></span> to check optional compression
     features.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     New <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/ziparchive.isencryptionmethoddupported.php" class="methodname">ZipArchive::isEncryptionMethodSupported()</a></span> to check optional encryption
     features.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     The <var class="varname">ZipArchive::lastId</var> property to get the index value of
     the last added entry has been added.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Errors can now be checked after an archive has been closed using the
     <var class="varname">ZipArchive::status</var> and
     <var class="varname">ZipArchive::statusSys</var> properties, or the
     <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/ziparchive.getstatusstring.php" class="methodname">ZipArchive::getStatusString()</a></span> method.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     The <code class="literal">'remove_path'</code> option of <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/ziparchive.addglob.php" class="methodname">ZipArchive::addGlob()</a></span> and
     <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/ziparchive.addpattern.php" class="methodname">ZipArchive::addPattern()</a></span> is now treated as an arbitrary string prefix (for
     consistency with the <code class="literal">'add_path'</code> option), whereas formerly it was treated as a
     directory name.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Optional compression / encryption features are now listed in phpinfo.
    </p>
   </li>
  </ul></div>

</div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration74.new-features.php" target="_blank">PHP 7.4</a></h1>
    </header>

    <div id="migration74.new-features" class="sect1">
 <h2 class="title">New Features</h2>

 <div class="sect2" id="migration74.new-features.core">
  <h3 class="title">PHP Core</h3>

  <div class="sect3" id="migration74.new-features.core.typed-properties">
   <h4 class="title">Typed properties</h4>

   <p class="para">
    Class properties now support type declarations.
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">class </span><span style="color: #0000BB">User </span><span style="color: #007700">{<br>    public </span><span style="color: #0000BB">int $id</span><span style="color: #007700">;<br>    public </span><span style="color: #0000BB">string $name</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
    The above example will enforce that <code class="literal">$user-&gt;id</code> can only be
    assigned <span class="type">int</span> values and <code class="literal">$user-&gt;name</code> can
    only be assigned <span class="type">string</span> values.
   
  </div>

  <div class="sect3" id="migration74.new-features.core.arrow-functions">
   <h4 class="title">Arrow functions</h4>

   <p class="para">
    <a target="_blank" href="https://www.php.net/manual/en/functions.arrow.php" class="link">Arrow functions</a> provide a
    shorthand syntax for defining functions
    with implicit by-value scope binding.

    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$factor </span><span style="color: #007700">= </span><span style="color: #0000BB">10</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$nums </span><span style="color: #007700">= </span><span style="color: #0000BB">array_map</span><span style="color: #007700">(fn(</span><span style="color: #0000BB">$n</span><span style="color: #007700">) =&gt; </span><span style="color: #0000BB">$n </span><span style="color: #007700">* </span><span style="color: #0000BB">$factor</span><span style="color: #007700">, [</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">]);<br></span><span style="color: #FF8000">// $nums = array(10, 20, 30, 40);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   
  </div>

  <div class="sect3" id="migration74.new-features.core.type-variance">
   <h4 class="title">Limited return type covariance and argument type contravariance</h4>

   <p class="para">
    The following code will now work:
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">class </span><span style="color: #0000BB">A </span><span style="color: #007700">{}<br>class </span><span style="color: #0000BB">B </span><span style="color: #007700">extends </span><span style="color: #0000BB">A </span><span style="color: #007700">{}<br><br>class </span><span style="color: #0000BB">Producer </span><span style="color: #007700">{<br>    public function </span><span style="color: #0000BB">method</span><span style="color: #007700">(): </span><span style="color: #0000BB">A </span><span style="color: #007700">{}<br>}<br>class </span><span style="color: #0000BB">ChildProducer </span><span style="color: #007700">extends </span><span style="color: #0000BB">Producer </span><span style="color: #007700">{<br>    public function </span><span style="color: #0000BB">method</span><span style="color: #007700">(): </span><span style="color: #0000BB">B </span><span style="color: #007700">{}<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
    Full variance support is only available if autoloading is used. Inside a
    single file only non-cyclic type references are possible, because all
    classes need to be available before they are referenced.
   
  </div>

  <div class="sect3" id="migration74.new-features.core.null-coalescing-assignment-operator">
   <h4 class="title">Null coalescing assignment operator</h4>

   <p class="para">
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$array</span><span style="color: #007700">[</span><span style="color: #DD0000">'key'</span><span style="color: #007700">] ??= </span><span style="color: #0000BB">computeDefault</span><span style="color: #007700">();<br></span><span style="color: #FF8000">// is roughly equivalent to<br></span><span style="color: #007700">if (!isset(</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">'key'</span><span style="color: #007700">])) {<br></span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">'key'</span><span style="color: #007700">] = </span><span style="color: #0000BB">computeDefault</span><span style="color: #007700">();<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   
  </div>

  <div class="sect3" id="migration74.new-features.core.unpack-inside-array">
   <h4 class="title">Unpacking inside arrays</h4>

   <p class="para">
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$parts </span><span style="color: #007700">= [</span><span style="color: #DD0000">'apple'</span><span style="color: #007700">, </span><span style="color: #DD0000">'pear'</span><span style="color: #007700">];<br></span><span style="color: #0000BB">$fruits </span><span style="color: #007700">= [</span><span style="color: #DD0000">'banana'</span><span style="color: #007700">, </span><span style="color: #DD0000">'orange'</span><span style="color: #007700">, ...</span><span style="color: #0000BB">$parts</span><span style="color: #007700">, </span><span style="color: #DD0000">'watermelon'</span><span style="color: #007700">];<br></span><span style="color: #FF8000">// ['banana', 'orange', 'apple', 'pear', 'watermelon'];<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   
  </div>

  <div class="sect3" id="migration74.new-features.core.numeric-literal-separator">
   <h4 class="title">Numeric literal separator</h4>

   <p class="para">
    Numeric literals can contain underscores between digits.
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />6.674_083e-11</span><span style="color: #007700">; </span><span style="color: #FF8000">// float<br></span><span style="color: #0000BB">299_792_458</span><span style="color: #007700">;   </span><span style="color: #FF8000">// decimal<br></span><span style="color: #0000BB">0xCAFE_F00D</span><span style="color: #007700">;   </span><span style="color: #FF8000">// hexadecimal<br></span><span style="color: #0000BB">0b0101_1111</span><span style="color: #007700">;   </span><span style="color: #FF8000">// binary<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   
  </div>
 
  <div class="sect3" id="migration74.new-features.core.weakreference">
   <h4 class="title">Weak references</h4>

   <p class="para">
    <a target="_blank" href="https://www.php.net/manual/en/class.weakreference.php" class="link">Weak references</a> allow the programmer to retain a reference to an object
    that does not prevent the object from being destroyed.
   </p>
  </div>

  <div class="sect3" id="migration74.new-features.core.tostring-exceptions">
   <h4 class="title">Allow exceptions from __toString()</h4>

   <p class="para">
    Throwing exceptions from <a target="_blank" href="https://www.php.net/manual/en/language.oop5.magic.php#object.tostring" class="link">__toString()</a>
    is now permitted. Previously this resulted in a fatal error. Existing
    recoverable fatal errors in string conversions have been converted to
    <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.error.php" class="classname">Error</a></span> exceptions.
   </p>
  </div>

 </div>

 <div class="sect2" id="migration74.new-features.curl">
  <h3 class="title">CURL</h3>
  
  <p class="para">
   <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.curlfile.php" class="classname">CURLFile</a></span> now supports stream wrappers in addition
   to plain file names, if the extension has been built against libcurl &gt;= 7.56.0.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.filter">
  <h3 class="title">Filter</h3>
  
  <p class="para">
   The <strong><code>FILTER_VALIDATE_FLOAT</code></strong> filter now supports the
   <code class="literal">min_range</code> and <code class="literal">max_range</code>
   options, with the same semantics as <strong><code>FILTER_VALIDATE_INT</code></strong>.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.ffi">
  <h3 class="title">FFI</h3>

  <p class="para">
   FFI is a new extension, which provides a simple way to call
   native functions, access native variables, and create/access
   data structures defined in C libraries.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.gd">
  <h3 class="title">GD</h3>

  <p class="para">
   Added the <strong><code>IMG_FILTER_SCATTER</code></strong> image filter
   to apply a scatter filter to images.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.hash">
  <h3 class="title">Hash</h3>

  <p class="para">
   Added <code class="literal">crc32c</code> hash using Castagnoli's polynomial.
   This CRC32 variant is used by storage systems, such as
   iSCSI, SCTP, Btrfs and ext4.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.mbstring">
  <h3 class="title">Multibyte String</h3>

  <p class="para">
   Added the <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.mb-str-split.php" class="function">mb_str_split()</a></span> function, which provides
   the same functionality as <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.str-split.php" class="function">str_split()</a></span>, but operating
   on code points rather than bytes.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.opcache">
  <h3 class="title">OPcache</h3>

  <p class="para">
   <a target="_blank" href="https://www.php.net/manual/en/opcache.preloading.php" class="link">Support for preloading code</a> has been added.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.pcre">
  <h3 class="title">Regular Expressions (Perl-Compatible)</h3>

  <p class="para">
   The <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.preg-replace-callback.php" class="function">preg_replace_callback()</a></span> and <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.preg-replace-callback-array.php" class="function">preg_replace_callback_array()</a></span>
   functions now accept an additional <code class="parameter">flags</code> argument, with support for the
   <strong><code>PREG_OFFSET_CAPTURE</code></strong> and <strong><code>PREG_UNMATCHED_AS_NULL</code></strong> flags.
   This influences the format of the matches array passed to the callback function.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.pdo">
  <h3 class="title">PDO</h3>

  <p class="para">
   The username and password can now be specified as part of the PDO DSN for
   the mysql, mssql, sybase, dblib, firebird and oci drivers. Previously this
   was only supported by the pgsql driver. If a username/password is specified
   both in the constructor and the DSN, the constructor takes precedence.
  </p>
  <p class="para">
   It is now possible to escape question marks in SQL queries to avoid them
   being interpreted as parameter placeholders. Writing <code class="literal">??</code>
   allows sending a single question mark to the database and e.g. use the
   PostgreSQL JSON key exists (<code class="literal">?</code>) operator.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.pdo_oci">
  <h3 class="title">PDO_OCI</h3>

  <p class="para">
   <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/pdostatement.getcolumnmeta.php" class="methodname">PDOStatement::getColumnMeta()</a></span> is now available.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.pdo_sqlite">
  <h3 class="title">PDO_SQLite</h3>

  <p class="para">
   <code class="literal">PDOStatement::getAttribute(PDO::SQLITE_ATTR_READONLY_STATEMENT)</code>
   allows checking whether the statement is read-only, i.e. if it doesn't modify
   the database.
  </p>
  <p class="para">
   <code class="literal">PDO::setAttribute(PDO::SQLITE_ATTR_EXTENDED_RESULT_CODES, true)</code>
   enables the use of SQLite3 extended result codes in <span class="function"><a target="_blank" href="https://www.php.net/manual/en/pdo.errorinfo.php" class="function">PDO::errorInfo()</a></span>
   and <span class="function"><a target="_blank" href="https://www.php.net/manual/en/pdostatement.errorinfo.php" class="function">PDOStatement::errorInfo()</a></span>.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.sqlite3">
  <h3 class="title">SQLite3</h3>

  <p class="para">
   Added <span class="methodname"><strong>SQLite3::lastExtendedErrorCode()</strong></span>
   to fetch the last extended result code.
  </p>
  <p class="para">
   Added <code class="literal">SQLite3::enableExtendedResultCodes($enable = true)</code>,
   which will make <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/sqlite3.lasterrorcode.php" class="methodname">SQLite3::lastErrorCode()</a></span>
   return extended result codes.
  </p>
 </div>

 <div class="sect2" id="migration74.new-features.standard">
  <h3 class="title">Standard</h3>

  <div class="sect3" id="migration74.new-features.standard.strip-tags">
   <h4 class="title">strip_tags() with array of tag names</h4>
   <p class="para">
    <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.strip-tags.php" class="function">strip_tags()</a></span> now also accepts an array of allowed tags:
    instead of <code class="literal">strip_tags($str, '<a><p>')</p></a></code>
    you can now write <code class="literal">strip_tags($str, ['a', 'p'])</code>.
   </p>
  </div>

  <div class="sect3" id="migration74.new-features.standard.magic-serialize">
   <h4 class="title">Custom object serialization</h4>
   <p class="para">
    A new mechanism for custom object serialization has been added, which
    uses two new magic methods: <code class="literal">__serialize</code>
    and <code class="literal">__unserialize</code>.
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #FF8000">// Returns array containing all the necessary state of the object.<br></span><span style="color: #007700">public function </span><span style="color: #0000BB">__serialize</span><span style="color: #007700">(): array;<br><br></span><span style="color: #FF8000">// Restores the object state from the given data array.<br></span><span style="color: #007700">public function </span><span style="color: #0000BB">__unserialize</span><span style="color: #007700">(array </span><span style="color: #0000BB">$data</span><span style="color: #007700">): </span><span style="color: #0000BB">void</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
    The new serialization mechanism supersedes the
    <span class="interfacename"><a target="_blank" href="https://www.php.net/manual/en/class.serializable.php" class="interfacename">Serializable</a></span> interface,
    which will be deprecated in the future.
   
  </div>

  <div class="sect3" id="migration74.new-features.standard.array-merge-no-args">
   <h4 class="title">Array merge functions without arguments</h4>
   <p class="para">
    <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.array-merge.php" class="function">array_merge()</a></span> and <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.array-merge-recursive.php" class="function">array_merge_recursive()</a></span>
    may now be called without any arguments, in which case they will return an empty array.
    This is useful in conjunction with the spread operator, e.g. <code class="literal">array_merge(...$arrays)</code>.
   </p>
  </div>

  <div class="sect3" id="migration74.new-features.standard.proc-open">
   <h4 class="title"><span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.proc-open.php" class="function">proc_open()</a></span> function</h4>
   <p class="para">
    <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.proc-open.php" class="function">proc_open()</a></span> now accepts an array instead of a
    string for the command. In this case the process will be opened
    directly (without going through a shell) and PHP will take care of
    any necessary argument escaping.
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />proc_open</span><span style="color: #007700">([</span><span style="color: #DD0000">'php'</span><span style="color: #007700">, </span><span style="color: #DD0000">'-r'</span><span style="color: #007700">, </span><span style="color: #DD0000">'echo "Hello World\n";'</span><span style="color: #007700">], </span><span style="color: #0000BB">$descriptors</span><span style="color: #007700">, </span><span style="color: #0000BB">$pipes</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   
   <p class="para">
    <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.proc-open.php" class="function">proc_open()</a></span> now supports
    <code class="literal">redirect</code> and <code class="literal">null</code> descriptors.
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #FF8000">// Like 2&gt;&amp;1 on the shell<br></span><span style="color: #0000BB">proc_open</span><span style="color: #007700">(</span><span style="color: #0000BB">$cmd</span><span style="color: #007700">, [</span><span style="color: #0000BB">1 </span><span style="color: #007700">=&gt; [</span><span style="color: #DD0000">'pipe'</span><span style="color: #007700">, </span><span style="color: #DD0000">'w'</span><span style="color: #007700">], </span><span style="color: #0000BB">2 </span><span style="color: #007700">=&gt; [</span><span style="color: #DD0000">'redirect'</span><span style="color: #007700">, </span><span style="color: #0000BB">1</span><span style="color: #007700">]], </span><span style="color: #0000BB">$pipes</span><span style="color: #007700">);<br></span><span style="color: #FF8000">// Like 2&gt;/dev/null or 2&gt;nul on the shell<br></span><span style="color: #0000BB">proc_open</span><span style="color: #007700">(</span><span style="color: #0000BB">$cmd</span><span style="color: #007700">, [</span><span style="color: #0000BB">1 </span><span style="color: #007700">=&gt; [</span><span style="color: #DD0000">'pipe'</span><span style="color: #007700">, </span><span style="color: #DD0000">'w'</span><span style="color: #007700">], </span><span style="color: #0000BB">2 </span><span style="color: #007700">=&gt; [</span><span style="color: #DD0000">'null'</span><span style="color: #007700">]], </span><span style="color: #0000BB">$pipes</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   
  </div>

  <div class="sect3" id="migration74.new-features.standard.sodium-argon-hash">
   <h4 class="title">argon2i(d) without libargon</h4>
   <p class="para">
    <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.password-hash.php" class="function">password_hash()</a></span> now has the argon2i and argon2id implementations
    from the sodium extension when PHP is built without libargon.
   </p>
  </div>

 </div>

</div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration73.new-features.php" target="_blank">PHP 7.3</a></h1>
    </header>

    <div id="migration73.new-features" class="sect1">
 <h2 class="title">New Features</h2>

 <div class="sect2" id="migration73.new-features.core">
  <h3 class="title">PHP Core</h3>

  <div class="sect3" id="migration73.new-features.core.heredoc">
   <h4 class="title">More Flexible Heredoc and Nowdoc Syntax</h4>

   <p class="para">
    The closing marker for doc strings is no longer required to be followed by a
    semicolon or newline. Additionally the closing marker may be indented, in
    which case the indentation will be stripped from all lines in the doc string.
   </p>
  </div>

  <div class="sect3" id="migration73.new-features.core.destruct-reference">
   <h4 class="title">Array Destructuring supports Reference Assignments</h4>

   <p class="para">
    Array destructuring now supports reference assignments using the syntax
    <code class="literal">[&amp;$a, [$b, &amp;$c]] = $d</code>. The same is also supported
    for <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.list.php" class="function">list()</a></span>.
   </p>
  </div>

  <div class="sect3" id="migration73.new-features.core.instanceof-literals">
   <h4 class="title">Instanceof Operator accepts Literals</h4>

   <p class="para">
    <code class="literal">instanceof</code> now allows literals as the first operand, in
    which case the result is always <strong><code>false</code></strong>.
   </p>
  </div>

  <div class="sect3" id="migration73.new-features.core.compileerror">
   <h4 class="title">CompileError Exception instead of some Compilation Errors</h4>

   <p class="para">
    A new <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.compileerror.php" class="classname">CompileError</a></span> exception has been added, from
    which <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.parseerror.php" class="classname">ParseError</a></span> inherits. A small number of
    compilation errors will now throw a <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.compileerror.php" class="classname">CompileError</a></span>
    instead of generating a fatal error. Currently this only affects compilation
    errors that may be thrown by <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.token-get-all.php" class="function">token_get_all()</a></span> in
    <strong><code>TOKEN_PARSE</code></strong> mode, but more errors may be converted in
    the future.
   </p>
  </div>

  <div class="sect3" id="migration73.new-features.core.trailing-commas">
   <h4 class="title">Trailing Commas are allowed in Calls</h4>

   <p class="para">
    Trailing commas in function and method calls are now allowed.
   </p>
  </div>

  <div class="sect3" id="migration73.new-features.core.argon2id">
   <h4 class="title">Argon2id Support</h4>

   <p class="para">
    The <strong class="option configure">--with-password-argon2[=dir]</strong> configure
    argument now provides support for both Argon2i and Argon2id hashes in the
    <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.password-hash.php" class="function">password_hash()</a></span>, <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.password-verify.php" class="function">password_verify()</a></span>,
    <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.password-get-info.php" class="function">password_get_info()</a></span>, and
    <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.password-needs-rehash.php" class="function">password_needs_rehash()</a></span> functions. Passwords may be hashed
    and verified using the <strong><code>PASSWORD_ARGON2ID</code></strong> constant.
    Support for both Argon2i and Argon2id in the <span class="function"><strong>password_*()</strong></span>
    functions now requires PHP be linked against libargon2 reference library â‰¥
    20161029.
   </p>
  </div>

 </div>

 <div class="sect2" id="migration73.new-features.fpm">
  <h3 class="title">FastCGI Process Manager</h3>

  <p class="para">
   New options have been added to customize the FPM logging:
   </p><dl><dt>
<code class="literal">log_limit</code></dt>

     <dd>

      <span class="simpara">
       This global option can be used for setting the log limit for the logged
       line which allows to log messages longer than 1024 characters without
       wrapping. It also fixes various wrapping issues.
      </span>
     </dd>

    
    
     <dt>
<code class="literal">log_buffering</code></dt>

     <dd>

      <span class="simpara">
       This global option allows an experimental logging without extra buffering.
      </span>
     </dd>

    
    
     <dt>
<code class="literal">decorate_workers_output</code></dt>

     <dd>

      <span class="simpara">
       This pool option allows to disable the output decoration for workers
       output when <code class="literal">catch_workers_output</code> is enabled.
      </span>
     </dd>

    
   </dl></div>

 <div class="sect2" id="migration73.new-features.bc">
  <h3 class="title">BC Math Functions</h3>

  <p class="para">
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.bcscale.php" class="function">bcscale()</a></span> can now also be used as getter to retrieve the
   current scale in use.
  </p>
 </div>

 <div class="sect2" id="migration73.new-features.ldap">
  <h3 class="title">Lightweight Directory Access Protocol</h3>

  <p class="para">
   Full support for LDAP Controls has been added to the <a target="_blank" href="https://www.php.net/manual/en/book.ldap.php" class="link">LDAP</a> querying functions and
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-parse-result.php" class="function">ldap_parse_result()</a></span>:
   </p><ul class="itemizedlist"><li class="listitem">
     <span class="simpara">
      A <code class="literal">$serverctrls</code> parameter to send controls to the
      server in <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-add.php" class="function">ldap_add()</a></span>,
      <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-mod-replace.php" class="function">ldap_mod_replace()</a></span>, <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-mod-add.php" class="function">ldap_mod_add()</a></span>,
      <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-mod-del.php" class="function">ldap_mod_del()</a></span>, <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-rename.php" class="function">ldap_rename()</a></span>,
      <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-compare.php" class="function">ldap_compare()</a></span>, <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-delete.php" class="function">ldap_delete()</a></span>,
      <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-modify-batch.php" class="function">ldap_modify_batch()</a></span>,
      <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-search.php" class="function">ldap_search()</a></span>, <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-list.php" class="function">ldap_list()</a></span> and
      <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-read.php" class="function">ldap_read()</a></span> has been added.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      The out parameter <code class="literal">$serverctrls</code> to get controls from the server in
      <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-parse-result.php" class="function">ldap_parse_result()</a></span> has been added.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Support for <strong><code>LDAP_OPT_SERVER_CONTROLS</code></strong> and
      <strong><code>LDAP_OPT_CLIENT_CONTROLS</code></strong> in
      <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-get-option.php" class="function">ldap_get_option()</a></span> and
      <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-set-option.php" class="function">ldap_set_option()</a></span> has been fixed.
     </span>
    </li>
   </ul></div>

 <div class="sect2" id="migration73.new-features.mbstring">
  <h3 class="title">Multibyte String Functions</h3>

  <div class="sect3" id="migration73.new-features.mbstring.case-mapping-folding">
   <h4 class="title">Full Case-Mapping and Case-Folding Support</h4>

   <p class="para">
    Support for full case-mapping and case-folding has been added. Unlike simple
    case-mapping, full case-mapping may change the length of the string. For
    example:
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />mb_strtoupper</span><span style="color: #007700">(</span><span style="color: #DD0000">"StraÃŸe"</span><span style="color: #007700">);<br></span><span style="color: #FF8000">// Produces STRAÃŸE on PHP 7.2<br>// Produces STRASSE on PHP 7.3<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
    The different casing mapping and folding modes are available through
    <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.mb-convert-case.php" class="function">mb_convert_case()</a></span>:
    <ul class="itemizedlist"><li class="listitem">
      <span class="simpara">
       <strong><code>MB_CASE_LOWER</code></strong> (used by <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.mb-strtolower.php" class="function">mb_strtolower()</a></span>)
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       <strong><code>MB_CASE_UPPER</code></strong> (used by <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.mb-strtoupper.php" class="function">mb_strtoupper()</a></span>)
      </span>
     </li> 
     <li class="listitem">
      <span class="simpara">
       <strong><code>MB_CASE_TITLE</code></strong>
      </span>
     </li> 
     <li class="listitem">
      <span class="simpara">
       <strong><code>MB_CASE_FOLD</code></strong>
      </span>
     </li> 
     <li class="listitem">
      <span class="simpara">
       <strong><code>MB_CASE_LOWER_SIMPLE</code></strong>
      </span>
     </li> 
     <li class="listitem">
      <span class="simpara">
       <strong><code>MB_CASE_UPPER_SIMPLE</code></strong>
      </span>
     </li> 
     <li class="listitem">
      <span class="simpara">
       <strong><code>MB_CASE_TITLE_SIMPLE</code></strong>
      </span>
     </li> 
     <li class="listitem">
      <span class="simpara">
       <strong><code>MB_CASE_FOLD_SIMPLE</code></strong> (used by case-insensitive operations)
      </span>
     </li> 
    </ul>
    Only unconditional, language agnostic full case-mapping is performed.
   
  </div>

  <div class="sect3" id="migration73.new-features.mbstring.case-insensitive-ops">
   <h4 class="title">Case-Insensitive String Operations use Case-Folding</h4>

   <p class="para">
    Case-insensitive string operations now use case-folding instead of case-
    mapping during comparisons. This means that more characters will be
    considered (case insensitively) equal now.
   </p>
  </div>

  <div class="sect3" id="migration73.new-features.mbstring.mb-case-title">
   <h4 class="title">MB_CASE_TITLE performs Title-Case Conversion</h4>

   <p class="para">
    <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.mb-convert-case.php" class="function">mb_convert_case()</a></span> with <strong><code>MB_CASE_TITLE</code></strong>
    now performs title-case conversion based on the Cased and CaseIgnorable
    derived Unicode properties. In particular this also improves handling of
    quotes and apostrophes.
   </p>
  </div>

  <div class="sect3" id="migration73.new-features.mbstring.ucd11">
   <h4 class="title">Unicode 11 Support</h4>

   <p class="para">
    The <a target="_blank" href="https://www.php.net/manual/en/book.mbstring.php" class="link">Multibyte String</a> data tables have
    been updated for Unicode 11.
   </p> 
  </div>

  <div class="sect3" id="migration73.new-features.mbstring.long-strings">
   <h4 class="title">Long String Support</h4>

   <p class="para">
    The <a target="_blank" href="https://www.php.net/manual/en/ref.mbstring.php" class="link">Multibyte String Functions</a> now
    correctly support strings larger than 2GB.
   </p>
  </div>

  <div class="sect3" id="migration73.new-features.mbstring.performance">
   <h4 class="title">Performance Improvements</h4>

   <p class="para">
    Performance of the <a target="_blank" href="https://www.php.net/manual/en/book.mbstring.php" class="link">Multibyte String</a>
    extension has been significantly improved across the board. The largest
    improvements are in case conversion functions.
   </p>
  </div>

  <div class="sect3" id="migration73.new-features.mbstring.named-captures">
   <h4 class="title">Named Captures Support</h4>

   <p class="para">
    The <code class="literal">mb_ereg_*</code> functions now support named captures.
    Matching functions like <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.mb-ereg.php" class="function">mb_ereg()</a></span> will now return named
    captures both using their group number and their name, similar to PCRE:
    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />mb_ereg</span><span style="color: #007700">(</span><span style="color: #DD0000">'(?<word>\w+)'</word></span><span style="color: #007700">, </span><span style="color: #DD0000">'å›½'</span><span style="color: #007700">, </span><span style="color: #0000BB">$matches</span><span style="color: #007700">);<br></span><span style="color: #FF8000">// =&gt; [0 =&gt; "å›½", 1 =&gt; "å›½", "word" =&gt; "å›½"];<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
    Additionally, <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.mb-ereg-replace.php" class="function">mb_ereg_replace()</a></span> now supports the
    <code class="code">\k&lt;&gt;</code> and <code class="code">\k''</code> notations to reference named
    captures in the replacement string:
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />mb_ereg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'\s*(?<word>\w+)\s*'</word></span><span style="color: #007700">, </span><span style="color: #DD0000">"_\k<word>_\k'word'_"</word></span><span style="color: #007700">, </span><span style="color: #DD0000">' foo '</span><span style="color: #007700">);<br></span><span style="color: #FF8000">// =&gt; "_foo_foo_"<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
    <code class="code">\k&lt;&gt;</code> and <code class="code">\k''</code> can also be used for numbered
    references, which also works with group numbers greater than 9.
   
  </div>

 </div>

 <div class="sect2" id="migration73.new-features.realine">
  <h3 class="title">Readline</h3>

  <p class="para">
   Support for the <code class="literal">completion_append_character</code> and
   <code class="literal">completion_suppress_append</code> options has been added to
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.readline-info.php" class="function">readline_info()</a></span>. These options are only available if PHP
   is linked against libreadline (rather than libedit).
  </p>
 </div>

</div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration72.new-features.php" target="_blank">PHP 7.2</a></h1>
    </header>

    <div id="migration72.new-features" class="sect1">
 <h2 class="title">New features</h2>

 <div class="sect2" id="migration72.new-features.object-type">
  <h3 class="title">New object type</h3>

  <p class="para">
   A new type, <span class="type">object</span>, has been introduced that can be used for
   (contravariant) parameter typing and (covariant) return typing of any
   objects.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /><br></span><span style="color: #007700">function </span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">object $obj</span><span style="color: #007700">) : </span><span style="color: #0000BB">object<br></span><span style="color: #007700">{<br>    return new </span><span style="color: #0000BB">SplQueue</span><span style="color: #007700">();<br>}<br><br></span><span style="color: #0000BB">test</span><span style="color: #007700">(new </span><span style="color: #0000BB">stdClass</span><span style="color: #007700">());</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration72.new-features.ext-loading-by-name">
  <h3 class="title">Extension loading by name</h3>

  <p class="para">
   Shared extensions no longer require their file extension
   (<code class="literal">.so</code> for Unix or <code class="literal">.dll</code> for Windows) to
   be specified. This is enabled in the php.ini file, as well as in the
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.dl.php" class="function">dl()</a></span> function.
  </p>
 </div>

 <div class="sect2" id="migration72.new-features.abstract-method-overriding">
  <h3 class="title">Abstract method overriding</h3>

  <p class="para">
   Abstract methods can now be overridden when an abstract class extends
   another abstract class.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /><br></span><span style="color: #007700">abstract class </span><span style="color: #0000BB">A<br></span><span style="color: #007700">{<br>    abstract function </span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">string $s</span><span style="color: #007700">);<br>}<br>abstract class </span><span style="color: #0000BB">B </span><span style="color: #007700">extends </span><span style="color: #0000BB">A<br></span><span style="color: #007700">{<br></span><span style="color: #FF8000">// overridden - still maintaining contravariance for parameters and covariance for return<br></span><span style="color: #007700">abstract function </span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">$s</span><span style="color: #007700">) : </span><span style="color: #0000BB">int</span><span style="color: #007700">;<br>}</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration72.new-features.sodium">
  <h3 class="title"><a target="_blank" href="https://www.php.net/manual/en/book.sodium.php" class="link">Sodium</a> is now a core extension</h3>

  <p class="para">
   The modern Sodium cryptography library has now become a core extension in PHP.
  </p>
  <p class="para">
   For a complete function reference, see the <a target="_blank" href="https://www.php.net/manual/en/book.sodium.php" class="link">Sodium</a>
   chapter.
  </p>
 </div>

 <div class="sect2" id="migration72.new-features.pws-hashing-with-argon2">
  <h3 class="title">Password hashing with Argon2</h3>

  <p class="para">
   Argon2 has been added to the <a target="_blank" href="https://www.php.net/manual/en/book.password.php" class="link">password hashing API</a>, 
   where the following constants have been exposed:
  </p>

  <ul class="itemizedlist"><li class="listitem">
    <span class="simpara">
     <strong><code>PASSWORD_ARGON2I</code></strong>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code>PASSWORD_ARGON2_DEFAULT_MEMORY_COST</code></strong>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code>PASSWORD_ARGON2_DEFAULT_TIME_COST</code></strong>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code>PASSWORD_ARGON2_DEFAULT_THREADS</code></strong>
    </span>
   </li>
  </ul></div>

 <div class="sect2" id="migration72.new-features.pdo-extended-str-types">
  <h3 class="title">Extended string types for <a target="_blank" href="https://www.php.net/manual/en/book.pdo.php" class="link">PDO</a></h3>

  <p class="para">
   PDO's string type has been extended to support the national character type
   when emulating prepares. This has been done with the following constants:
  </p>

  <ul class="itemizedlist"><li class="listitem">
    <span class="simpara">
     <strong><code>PDO::PARAM_STR_NATL</code></strong>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code>PDO::PARAM_STR_CHAR</code></strong>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code>PDO::ATTR_DEFAULT_STR_PARAM</code></strong>
    </span>
   </li>
  </ul><p class="para">
   These constants are utilised by bitwise <code class="literal">OR</code>'ing them with
   <strong><code>PDO::PARAM_STR</code></strong>:
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /><br>$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quote</span><span style="color: #007700">(</span><span style="color: #DD0000">'Ã¼ber'</span><span style="color: #007700">, </span><span style="color: #0000BB">PDO</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_STR </span><span style="color: #007700">| </span><span style="color: #0000BB">PDO</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_STR_NATL</span><span style="color: #007700">);</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration72.new-features.additional-emulated-prepares-debugging-info">
  <h3 class="title">Additional emulated prepares debugging information for <a target="_blank" href="https://www.php.net/manual/en/book.pdo.php" class="link">PDO</a></h3>

  <p class="para">
   The <span class="function"><a target="_blank" href="https://www.php.net/manual/en/pdostatement.debugdumpparams.php" class="function">PDOStatement::debugDumpParams()</a></span> method has been
   updated to include the SQL being sent to the DB, where the full, raw query
   (including the replaced placeholders with their bounded values) will be
   shown. This has been added to aid with debugging emulated prepares (and so
   it will only be available when emulated prepares are turned on).
  </p>
 </div>

 <div class="sect2" id="migration72.new-features.extended-ops-in-ldap">
  <h3 class="title">Support for extended operations in <a target="_blank" href="https://www.php.net/manual/en/book.ldap.php" class="link">LDAP</a></h3>

  <p class="para">
   Support for EXOP has been added to the LDAP extension. This has been done by
   exposing the following functions and constants:
  </p>

  <ul class="itemizedlist"><li class="listitem">
    <span class="simpara">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-parse-exop.php" class="function">ldap_parse_exop()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-exop.php" class="function">ldap_exop()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-exop-passwd.php" class="function">ldap_exop_passwd()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.ldap-exop-whoami.php" class="function">ldap_exop_whoami()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code>LDAP_EXOP_START_TLS</code></strong>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code>LDAP_EXOP_MODIFY_PASSWD</code></strong>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code>LDAP_EXOP_REFRESH</code></strong>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code>LDAP_EXOP_WHO_AM_I</code></strong>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <strong><code>LDAP_EXOP_TURN</code></strong>
    </span>
   </li>
  </ul></div>

 <div class="sect2" id="migration72.new-features.addr-info-in-sockets">
  <h3 class="title">Address Information additions to the <a target="_blank" href="https://www.php.net/manual/en/book.sockets.php" class="link">Sockets</a> extension</h3>

  <p class="para">
   The sockets extension now has the ability to lookup address information, as
   well as connect to it, bind to it, and explain it. The following four
   functions have been added for this:
  </p>

  <ul class="itemizedlist"><li class="listitem">
    <span class="simpara">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.socket-addrinfo-lookup.php" class="function">socket_addrinfo_lookup()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.socket-addrinfo-connect.php" class="function">socket_addrinfo_connect()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.socket-addrinfo-bind.php" class="function">socket_addrinfo_bind()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.socket-addrinfo-explain.php" class="function">socket_addrinfo_explain()</a></span>
    </span>
   </li>
  </ul></div>

 <div class="sect2" id="migration72.new-features.param-type-widening">
  <h3 class="title">Parameter type widening</h3>

  <p class="para">
   Parameter types from overridden methods and from interface implementations
   may now be omitted. This is still in compliance with LSP, since parameters
   types are contravariant.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /><br></span><span style="color: #007700">interface </span><span style="color: #0000BB">A<br></span><span style="color: #007700">{<br>    public function </span><span style="color: #0000BB">Test</span><span style="color: #007700">(array </span><span style="color: #0000BB">$input</span><span style="color: #007700">);<br>}<br><br>class </span><span style="color: #0000BB">B </span><span style="color: #007700">implements </span><span style="color: #0000BB">A<br></span><span style="color: #007700">{<br>    public function </span><span style="color: #0000BB">Test</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">){} </span><span style="color: #FF8000">// type omitted for $input<br></span><span style="color: #007700">}</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration72.new-features.trailing-comma-in-grouped-namespaces">
  <h3 class="title">Allow a trailing comma for grouped namespaces</h3>

  <p class="para">
   A trailing comma can now be added to the group-use syntax introduced in
   PHP 7.0.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /><br></span><span style="color: #007700">use </span><span style="color: #0000BB">Foo\Bar</span><span style="color: #007700">\{<br></span><span style="color: #0000BB">Foo</span><span style="color: #007700">,<br></span><span style="color: #0000BB">Bar</span><span style="color: #007700">,<br></span><span style="color: #0000BB">Baz</span><span style="color: #007700">,<br>};</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration72.new-features.proc_nice-windows-support">
  <h3 class="title"><span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.proc-nice.php" class="function">proc_nice()</a></span> support on Windows</h3>

  <p class="para">
   The <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.proc-nice.php" class="function">proc_nice()</a></span> function is now supported on Windows.
  </p>
 </div>

 <div class="sect2" id="migration72.new-features.pack-unpack-endian-support">
  <h3 class="title"><span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.pack.php" class="function">pack()</a></span> and <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.unpack.php" class="function">unpack()</a></span> endian support</h3>

  <p class="para">
   The <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.pack.php" class="function">pack()</a></span> and <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.unpack.php" class="function">unpack()</a></span> functions now
   support float and double in both little and big endian.
  </p>
 </div>

 <div class="sect2" id="migration72.new-features.exif-features">
  <h3 class="title">Enhancements to the <a target="_blank" href="https://www.php.net/manual/en/book.exif.php" class="link">EXIF</a> extension</h3>

  <p class="para">
   The EXIF extension has been updated to support a much larger range of formats. This 
   means that their format specific tags are now properly translated when parsing images 
   with the <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.exif-read-data.php" class="function">exif_read_data()</a></span> function. The following new formats are 
   now supported:
  </p>

  <ul class="itemizedlist"><li class="listitem">
    <span class="simpara">
     Samsung
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     DJI
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Panasonic
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Sony
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Pentax
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Minolta
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Sigma/Foveon
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     AGFA
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Kyocera
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Ricoh
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Epson
    </span>
   </li>
  </ul><p class="para">
   The EXIF functions <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.exif-read-data.php" class="function">exif_read_data()</a></span> and <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.exif-thumbnail.php" class="function">exif_thumbnail()</a></span> 
   now support passing streams as their first argument.
  </p>
 </div>

 <div class="sect2" id="migration72.new-features.pcre">
  <h3 class="title">New features in <a target="_blank" href="https://www.php.net/manual/en/book.pcre.php" class="link">PCRE</a></h3>

  <ul class="itemizedlist"><li class="listitem">
    <span class="simpara">
     The <code class="literal">J</code> modifier for setting PCRE_DUPNAMES has been added.
    </span>
   </li>
  </ul></div>

 <div class="sect2" id="migration72.new-features.sqlite3">
  <h3 class="title"><a target="_blank" href="https://www.php.net/manual/en/book.sqlite3.php" class="link">SQLite3</a> allows writing BLOBs</h3>

  <p class="para">
   <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/sqlite3.openblob.php" class="methodname">SQLite3::openBlob()</a></span> now allows to open BLOB fields in
   write mode; formerly only read mode was supported.
  </p>
 </div>

 <div class="sect2" id="migration72.new-features.oci8">
  <h3 class="title"><a target="_blank" href="https://www.php.net/manual/en/book.oci8.php" class="link">Oracle OCI8</a> Transparent Application Failover Callbacks</h3>

  <p class="para">
   Support for <a target="_blank" href="https://www.php.net/manual/en/oci8.taf.php" class="link">Oracle Database Transparent Application Failover (TAF) callbacks</a>
   has been added. TAF allows PHP OCI8 applications to
   automatically reconnect to a preconfigured database when a connection
   is broken.  The new TAF callback support allows PHP applications to
   monitor and control reconnection during failover. 
  </p>
 </div>

 <div class="sect2" id="migration72.new-features.zip">
  <h3 class="title">Enhancements to the <a target="_blank" href="https://www.php.net/manual/en/book.zip.php" class="link">ZIP</a> extension</h3>

  <p class="para">
   Read and write support for encrypted archives has been added (requires libzip 1.2.0).
  </p>
  <p class="para">
   The <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.ziparchive.php" class="classname">ZipArchive</a></span> class now implements the <span class="interfacename"><a target="_blank" href="https://www.php.net/manual/en/class.countable.php" class="interfacename">Countable</a></span> 
   interface.
  </p>
  <p class="para">
   The <code class="literal">zip://</code> stream now accepts a <code class="literal">'password'</code> context option.
  </p>
 </div>

</div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration71.new-features.php" target="_blank">PHP 7.1</a></h1>
    </header>

    <div id="migration71.new-features" class="sect1">
 <h2 class="title">New features</h2>

 <div class="sect2" id="migration71.new-features.nullable-types">
  <h3 class="title">Nullable types</h3>

  <p class="para">
   Type declarations for parameters and return values can now be marked as
   nullable by prefixing the type name with a question mark. This signifies
   that as well as the specified type, <strong><code>null</code></strong> can be passed as an argument, or
   returned as a value, respectively.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /><br></span><span style="color: #007700">function </span><span style="color: #0000BB">testReturn</span><span style="color: #007700">(): ?</span><span style="color: #0000BB">string<br></span><span style="color: #007700">{<br>    return </span><span style="color: #DD0000">'elePHPant'</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">testReturn</span><span style="color: #007700">());<br><br>function </span><span style="color: #0000BB">testReturn</span><span style="color: #007700">(): ?</span><span style="color: #0000BB">string<br></span><span style="color: #007700">{<br>    return </span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">testReturn</span><span style="color: #007700">());<br><br>function </span><span style="color: #0000BB">test</span><span style="color: #007700">(?</span><span style="color: #0000BB">string $name</span><span style="color: #007700">)<br>{<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #DD0000">'elePHPant'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br></span><span style="color: #0000BB">test</span><span style="color: #007700">();</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
string(10) "elePHPant"
NULL
string(10) "elePHPant"
NULL
Uncaught Error: Too few arguments to function test(), 0 passed in...
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration71.new-features.void-functions">
  <h3 class="title">Void functions</h3>

  <p class="para">
   A <span class="type"><span class="type void">void</span></span> return type has been introduced. Functions declared with
   void as their return type must either omit their return statement altogether,
   or use an empty return statement. <strong><code>null</code></strong> is not a valid return value for a
   void function.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">function </span><span style="color: #0000BB">swap</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$left</span><span style="color: #007700">, &amp;</span><span style="color: #0000BB">$right</span><span style="color: #007700">): </span><span style="color: #0000BB">void<br></span><span style="color: #007700">{<br>    if (</span><span style="color: #0000BB">$left </span><span style="color: #007700">=== </span><span style="color: #0000BB">$right</span><span style="color: #007700">) {<br>        return;<br>    }<br><br></span><span style="color: #0000BB">$tmp </span><span style="color: #007700">= </span><span style="color: #0000BB">$left</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$left </span><span style="color: #007700">= </span><span style="color: #0000BB">$right</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$right </span><span style="color: #007700">= </span><span style="color: #0000BB">$tmp</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$b </span><span style="color: #007700">= </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">swap</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">, </span><span style="color: #0000BB">$b</span><span style="color: #007700">), </span><span style="color: #0000BB">$a</span><span style="color: #007700">, </span><span style="color: #0000BB">$b</span><span style="color: #007700">);</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
null
int(2)
int(1)
</pre></div>
   </div>
  </div>

  <p class="para">
   Attempting to use a void function's return value simply evaluates to
   <strong><code>null</code></strong>, with no warnings emitted. The reason for this is because warnings
   would implicate the use of generic higher order functions.
  </p>
 </div>

 <div class="sect2" id="migration71.new-features.symmetric-array-destructuring">
  <h3 class="title">Symmetric array destructuring</h3>

  <p class="para">
   The shorthand array syntax (<code class="literal">[]</code>) may now be used to
   destructure arrays for assignments (including within
   <code class="literal">foreach</code>), as an alternative to the existing
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.list.php" class="function">list()</a></span> syntax, which is still supported.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$data </span><span style="color: #007700">= [<br>    [</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #DD0000">'Tom'</span><span style="color: #007700">],<br>    [</span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #DD0000">'Fred'</span><span style="color: #007700">],<br>];<br><br></span><span style="color: #FF8000">// list() style<br></span><span style="color: #007700">list(</span><span style="color: #0000BB">$id1</span><span style="color: #007700">, </span><span style="color: #0000BB">$name1</span><span style="color: #007700">) = </span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br><br></span><span style="color: #FF8000">// [] style<br></span><span style="color: #007700">[</span><span style="color: #0000BB">$id1</span><span style="color: #007700">, </span><span style="color: #0000BB">$name1</span><span style="color: #007700">] = </span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br><br></span><span style="color: #FF8000">// list() style<br></span><span style="color: #007700">foreach (</span><span style="color: #0000BB">$data </span><span style="color: #007700">as list(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$name</span><span style="color: #007700">)) {<br></span><span style="color: #FF8000">// logic here with $id and $name<br></span><span style="color: #007700">}<br><br></span><span style="color: #FF8000">// [] style<br></span><span style="color: #007700">foreach (</span><span style="color: #0000BB">$data </span><span style="color: #007700">as [</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$name</span><span style="color: #007700">]) {<br></span><span style="color: #FF8000">// logic here with $id and $name<br></span><span style="color: #007700">}</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration71.new-features.class-constant-visibility">
  <h3 class="title">Class constant visibility</h3>

  <p class="para">
   Support for specifying the visibility of class constants has been added.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">class </span><span style="color: #0000BB">ConstDemo<br></span><span style="color: #007700">{<br>    const </span><span style="color: #0000BB">PUBLIC_CONST_A </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>    public const </span><span style="color: #0000BB">PUBLIC_CONST_B </span><span style="color: #007700">= </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br>    protected const </span><span style="color: #0000BB">PROTECTED_CONST </span><span style="color: #007700">= </span><span style="color: #0000BB">3</span><span style="color: #007700">;<br>    private const </span><span style="color: #0000BB">PRIVATE_CONST </span><span style="color: #007700">= </span><span style="color: #0000BB">4</span><span style="color: #007700">;<br>}</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration71.new-features.iterable-pseudo-type">
  <h3 class="title"><span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.iterable.php" class="type iterable">iterable</a></span> pseudo-type</h3>

  <p class="para">
   A new pseudo-type (similar to <span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.callable.php" class="type callable">callable</a></span>) called
   <span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.iterable.php" class="type iterable">iterable</a></span> has been introduced. It may be used in parameter
   and return types, where it accepts either arrays or objects that implement
   the <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.traversable.php" class="classname">Traversable</a></span> interface. With respect to subtyping,
   parameter types of child classes may broaden a parent's declaration of <span class="type">array</span> 
   or <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.traversable.php" class="classname">Traversable</a></span> to <span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.iterable.php" class="type iterable">iterable</a></span>. With return types,
   child classes may narrow a parent's return type of <span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.iterable.php" class="type iterable">iterable</a></span> to
   <span class="type">array</span> or an object that implements <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.traversable.php" class="classname">Traversable</a></span>.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">function </span><span style="color: #0000BB">iterator</span><span style="color: #007700">(</span><span style="color: #0000BB">iterable $iter</span><span style="color: #007700">)<br>{<br>    foreach (</span><span style="color: #0000BB">$iter </span><span style="color: #007700">as </span><span style="color: #0000BB">$val</span><span style="color: #007700">) {<br></span><span style="color: #FF8000">//<br></span><span style="color: #007700">}<br>}</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration71.new-features.mulit-catch-exception-handling">
  <h3 class="title">Multi catch exception handling</h3>

  <p class="para">
   Multiple exceptions per catch block may now be specified using the pipe
   character (<code class="literal">|</code>). This is useful for when different
   exceptions from different class hierarchies are handled the same.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">try {<br></span><span style="color: #FF8000">// some code<br></span><span style="color: #007700">} catch (</span><span style="color: #0000BB">FirstException </span><span style="color: #007700">| </span><span style="color: #0000BB">SecondException $e</span><span style="color: #007700">) {<br></span><span style="color: #FF8000">// handle first and second exceptions<br></span><span style="color: #007700">}</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration71.new-features.support-for-keys-in-list">
  <h3 class="title">Support for keys in <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.list.php" class="function">list()</a></span></h3>

  <p class="para">
   You can now specify keys in <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.list.php" class="function">list()</a></span>, or its new shorthand
   <code class="literal">[]</code> syntax. This enables destructuring of arrays with
   non-integer or non-sequential keys.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$data </span><span style="color: #007700">= [<br>    [</span><span style="color: #DD0000">"id" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #DD0000">"name" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Tom'</span><span style="color: #007700">],<br>    [</span><span style="color: #DD0000">"id" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #DD0000">"name" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Fred'</span><span style="color: #007700">],<br>];<br><br></span><span style="color: #FF8000">// list() style<br></span><span style="color: #007700">list(</span><span style="color: #DD0000">"id" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$id1</span><span style="color: #007700">, </span><span style="color: #DD0000">"name" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$name1</span><span style="color: #007700">) = </span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br><br></span><span style="color: #FF8000">// [] style<br></span><span style="color: #007700">[</span><span style="color: #DD0000">"id" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$id1</span><span style="color: #007700">, </span><span style="color: #DD0000">"name" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$name1</span><span style="color: #007700">] = </span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br><br></span><span style="color: #FF8000">// list() style<br></span><span style="color: #007700">foreach (</span><span style="color: #0000BB">$data </span><span style="color: #007700">as list(</span><span style="color: #DD0000">"id" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"name" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$name</span><span style="color: #007700">)) {<br></span><span style="color: #FF8000">// logic here with $id and $name<br></span><span style="color: #007700">}<br><br></span><span style="color: #FF8000">// [] style<br></span><span style="color: #007700">foreach (</span><span style="color: #0000BB">$data </span><span style="color: #007700">as [</span><span style="color: #DD0000">"id" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #DD0000">"name" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$name</span><span style="color: #007700">]) {<br></span><span style="color: #FF8000">// logic here with $id and $name<br></span><span style="color: #007700">}</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration71.new-features.support-for-negative-string-offsets">
  <h3 class="title">Support for negative string offsets</h3>

  <p class="para">
   Support for negative string offsets has been added to the
   <a target="_blank" href="https://www.php.net/manual/en/book.strings.php" class="link">string manipulation functions</a>
   accepting offsets, as well as to
   <a target="_blank" href="https://www.php.net/manual/en/language.types.string.php#language.types.string.substr" class="link">string indexing</a> with
   <code class="literal">[]</code> or <code class="literal">{}</code>. In such cases, a negative
   offset is interpreted as being an offset from the end of the string.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />var_dump</span><span style="color: #007700">(</span><span style="color: #DD0000">"abcdef"</span><span style="color: #007700">[-</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #DD0000">"aabbcc"</span><span style="color: #007700">, </span><span style="color: #DD0000">"b"</span><span style="color: #007700">, -</span><span style="color: #0000BB">3</span><span style="color: #007700">));</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
string (1) "e"
int(3)
</pre></div>
   </div>
  </div>

  <p class="para">
   Negative string and array offsets are now also supported in the simple
   variable parsing syntax inside of strings.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$string </span><span style="color: #007700">= </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br>echo </span><span style="color: #DD0000">"The last character of '</span><span style="color: #0000BB">$string</span><span style="color: #DD0000">' is '</span><span style="color: #0000BB">$string</span><span style="color: #007700">[-</span><span style="color: #0000BB">1</span><span style="color: #007700">]</span><span style="color: #DD0000">'.\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
The last character of 'bar' is 'r'.
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration71.new-features.support-for-aead-in-ext-openssl">
  <h3 class="title">Support for AEAD in ext/openssl</h3>

  <p class="para">
   Support for AEAD (modes GCM and CCM) have been added by extending the
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.openssl-encrypt.php" class="function">openssl_encrypt()</a></span> and
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.openssl-decrypt.php" class="function">openssl_decrypt()</a></span> functions with additional parameters.
  </p>
 </div>

 <div class="sect2" id="migration71.new-features.convert-callables-to-closures">
  <h3 class="title">Convert callables to <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.closure.php" class="classname">Closure</a></span>s with <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/closure.fromcallable.php" class="methodname">Closure::fromCallable()</a></span></h3>

  <p class="para">
   A new static method has been introduced to the <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.closure.php" class="classname">Closure</a></span>
   class to allow for <span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.callable.php" class="type callable">callable</a></span>s to be easily converted into
   <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.closure.php" class="classname">Closure</a></span> objects.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">class </span><span style="color: #0000BB">Test<br></span><span style="color: #007700">{<br>    public function </span><span style="color: #0000BB">exposeFunction</span><span style="color: #007700">()<br>    {<br>        return </span><span style="color: #0000BB">Closure</span><span style="color: #007700">::</span><span style="color: #0000BB">fromCallable</span><span style="color: #007700">([</span><span style="color: #0000BB">$this</span><span style="color: #007700">, </span><span style="color: #DD0000">'privateFunction'</span><span style="color: #007700">]);<br>    }<br><br>    private function </span><span style="color: #0000BB">privateFunction</span><span style="color: #007700">(</span><span style="color: #0000BB">$param</span><span style="color: #007700">)<br>    {<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$param</span><span style="color: #007700">);<br>    }<br>}<br><br></span><span style="color: #0000BB">$privFunc </span><span style="color: #007700">= (new </span><span style="color: #0000BB">Test</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">exposeFunction</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$privFunc</span><span style="color: #007700">(</span><span style="color: #DD0000">'some value'</span><span style="color: #007700">);</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
string(10) "some value"
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration71.new-features.asynchronous-signal-handling">
  <h3 class="title">Asynchronous signal handling</h3>

  <p class="para">
   A new function called <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.pcntl-async-signals.php" class="function">pcntl_async_signals()</a></span> has been
   introduced to enable asynchronous signal handling without using ticks (which
   introduce a lot of overhead).
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />pcntl_async_signals</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">); </span><span style="color: #FF8000">// turn on async signals<br><br></span><span style="color: #0000BB">pcntl_signal</span><span style="color: #007700">(</span><span style="color: #0000BB">SIGHUP</span><span style="color: #007700">,  function(</span><span style="color: #0000BB">$sig</span><span style="color: #007700">) {<br>    echo </span><span style="color: #DD0000">"SIGHUP\n"</span><span style="color: #007700">;<br>});<br><br></span><span style="color: #0000BB">posix_kill</span><span style="color: #007700">(</span><span style="color: #0000BB">posix_getpid</span><span style="color: #007700">(), </span><span style="color: #0000BB">SIGHUP</span><span style="color: #007700">);</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
SIGHUP
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration71.new-features.http2-server-push-support-in-ext-curl">
  <h3 class="title">HTTP/2 server push support in ext/curl</h3>

  <p class="para">
   Support for server push has been added to the CURL extension (requires
   version 7.46 and above). This can be leveraged through the
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.curl-multi-setopt.php" class="function">curl_multi_setopt()</a></span> function with the new
   <strong><code>CURLMOPT_PUSHFUNCTION</code></strong> constant. The constants
   <strong><code>CURL_PUSH_OK</code></strong> and <strong><code>CURL_PUSH_DENY</code></strong> have also been
   added so that the execution of the server push callback can either be
   approved or denied.
  </p>
 </div>

 <div class="sect2" id="migration71.new-features.stream-context-options">
  <h3 class="title">Stream Context Options</h3>

  <p class="para">
   The <a target="_blank" href="https://www.php.net/manual/en/context.socket.php#context.socket.tcp_nodelay" class="link">tcp_nodelay</a> stream
   context option has been added.
  </p>
 </div>

</div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration70.new-features.php" target="_blank">PHP 7.0</a></h1>
    </header>

    <div id="migration70.new-features" class="sect1">
 <h2 class="title">New features</h2>

 <div class="sect2" id="migration70.new-features.scalar-type-declarations">
  <h3 class="title">Scalar type declarations</h3>

  <p class="para">
   Scalar
   <a target="_blank" href="https://www.php.net/manual/en/language.types.declarations.php" class="link">type declarations</a>
   come in two flavours: coercive (default) and strict. The following types
   for parameters can now be enforced (either coercively or strictly): strings
    (<span class="type">string</span>), integers (<code class="literal">int</code>), floating-point
    numbers (<span class="type">float</span>), and booleans (<code class="literal">bool</code>). They
    augment the other types introduced in PHP 5: class names, interfaces,
    <span class="type">array</span> and <span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.callable.php" class="type callable">callable</a></span>.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #FF8000">// Coercive mode<br></span><span style="color: #007700">function </span><span style="color: #0000BB">sumOfInts</span><span style="color: #007700">(</span><span style="color: #0000BB">int </span><span style="color: #007700">...</span><span style="color: #0000BB">$ints</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">array_sum</span><span style="color: #007700">(</span><span style="color: #0000BB">$ints</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">sumOfInts</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #DD0000">'3'</span><span style="color: #007700">, </span><span style="color: #0000BB">4.1</span><span style="color: #007700">));</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
int(9)
</pre></div>
   </div>
  </div>

  <p class="para">
   To enable strict mode, a single <a target="_blank" href="https://www.php.net/manual/en/control-structures.declare.php" class="link"><code class="literal">declare</code></a> directive must be placed at the
   top of the file. This means that the strictness of typing for scalars is
   configured on a per-file basis. This directive not only affects the type
   declarations of parameters, but also a function's return type (see
   <a target="_blank" href="https://www.php.net/manual/en/language.types.declarations.php" class="link">return type declarations</a>,
   built-in PHP functions, and functions from loaded
   extensions.
  </p>

  <p class="para">
   Full documentation and examples of scalar type declarations can be found in
   the
   <a target="_blank" href="https://www.php.net/manual/en/language.types.declarations.php" class="link">type declaration</a>
   reference.
  </p>
 </div>

 <div class="sect2" id="migration70.new-features.return-type-declarations">
  <h3 class="title">Return type declarations</h3>

  <p class="para">
   PHP 7 adds support for 
   <a target="_blank" href="https://www.php.net/manual/en/language.types.declarations.php" class="link">return type declarations</a>.
   Similarly to
   <a target="_blank" href="https://www.php.net/manual/en/language.types.declarations.php" class="link">argument type declarations</a>,
   return type declarations specify the type of the value that will be
   returned from a function. The same
   <a target="_blank" href="https://www.php.net/manual/en/language.types.declarations.php" class="link">types</a>
   are available for return type declarations as are available for argument
   type declarations.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /><br></span><span style="color: #007700">function </span><span style="color: #0000BB">arraysSum</span><span style="color: #007700">(array ...</span><span style="color: #0000BB">$arrays</span><span style="color: #007700">): array<br>{<br>    return </span><span style="color: #0000BB">array_map</span><span style="color: #007700">(function(array </span><span style="color: #0000BB">$array</span><span style="color: #007700">): </span><span style="color: #0000BB">int </span><span style="color: #007700">{<br>        return </span><span style="color: #0000BB">array_sum</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br>    }, </span><span style="color: #0000BB">$arrays</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">arraysSum</span><span style="color: #007700">([</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">], [</span><span style="color: #0000BB">4</span><span style="color: #007700">,</span><span style="color: #0000BB">5</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">], [</span><span style="color: #0000BB">7</span><span style="color: #007700">,</span><span style="color: #0000BB">8</span><span style="color: #007700">,</span><span style="color: #0000BB">9</span><span style="color: #007700">]));</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; 6
    [1] =&gt; 15
    [2] =&gt; 24
)
</pre></div>
   </div>
  </div>

  <p class="para">
   Full documentation and examples of return type declarations can be found in
   the
   <a target="_blank" href="https://www.php.net/manual/en/language.types.declarations.php" class="link">return type declarations</a>.
   reference.
  </p>
 </div>

 <div class="sect2" id="migration70.new-features.null-coalesce-op">
  <h3 class="title">Null coalescing operator</h3>

  <p class="para">
   The null coalescing operator (<code class="literal">??</code>) has been added as
   syntactic sugar for the common case of needing to use a ternary in
   conjunction with <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.isset.php" class="function">isset()</a></span>. It returns its first operand
   if it exists and is not <strong><code>null</code></strong>; otherwise it returns its second operand.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #FF8000">// Fetches the value of $_GET['user'] and returns 'nobody'<br>// if it does not exist.<br></span><span style="color: #0000BB">$username </span><span style="color: #007700">= </span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'user'</span><span style="color: #007700">] ?? </span><span style="color: #DD0000">'nobody'</span><span style="color: #007700">;<br></span><span style="color: #FF8000">// This is equivalent to:<br></span><span style="color: #0000BB">$username </span><span style="color: #007700">= isset(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'user'</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'user'</span><span style="color: #007700">] : </span><span style="color: #DD0000">'nobody'</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">// Coalescing can be chained: this will return the first<br>// defined value out of $_GET['user'], $_POST['user'], and<br>// 'nobody'.<br></span><span style="color: #0000BB">$username </span><span style="color: #007700">= </span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'user'</span><span style="color: #007700">] ?? </span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'user'</span><span style="color: #007700">] ?? </span><span style="color: #DD0000">'nobody'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>

  
 </div>

 <div class="sect2" id="migration70.new-features.spaceship-op">
  <h3 class="title">Spaceship operator</h3>
  <p class="para">
   The spaceship operator is used for comparing two expressions. It returns -1, 0 
   or 1 when <var class="varname">$a</var> is respectively less than, equal to, or greater 
   than <var class="varname">$b</var>. Comparisons are performed according to PHP's usual
   <a target="_blank" href="https://www.php.net/manual/en/types.comparisons.php" class="link">type comparison rules</a>.
  </p>
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #FF8000">// Integers<br></span><span style="color: #007700">echo </span><span style="color: #0000BB">1 </span><span style="color: #007700">&lt;=&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">; </span><span style="color: #FF8000">// 0<br></span><span style="color: #007700">echo </span><span style="color: #0000BB">1 </span><span style="color: #007700">&lt;=&gt; </span><span style="color: #0000BB">2</span><span style="color: #007700">; </span><span style="color: #FF8000">// -1<br></span><span style="color: #007700">echo </span><span style="color: #0000BB">2 </span><span style="color: #007700">&lt;=&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">; </span><span style="color: #FF8000">// 1<br><br>// Floats<br></span><span style="color: #007700">echo </span><span style="color: #0000BB">1.5 </span><span style="color: #007700">&lt;=&gt; </span><span style="color: #0000BB">1.5</span><span style="color: #007700">; </span><span style="color: #FF8000">// 0<br></span><span style="color: #007700">echo </span><span style="color: #0000BB">1.5 </span><span style="color: #007700">&lt;=&gt; </span><span style="color: #0000BB">2.5</span><span style="color: #007700">; </span><span style="color: #FF8000">// -1<br></span><span style="color: #007700">echo </span><span style="color: #0000BB">2.5 </span><span style="color: #007700">&lt;=&gt; </span><span style="color: #0000BB">1.5</span><span style="color: #007700">; </span><span style="color: #FF8000">// 1<br><br>// Strings<br></span><span style="color: #007700">echo </span><span style="color: #DD0000">"a" </span><span style="color: #007700">&lt;=&gt; </span><span style="color: #DD0000">"a"</span><span style="color: #007700">; </span><span style="color: #FF8000">// 0<br></span><span style="color: #007700">echo </span><span style="color: #DD0000">"a" </span><span style="color: #007700">&lt;=&gt; </span><span style="color: #DD0000">"b"</span><span style="color: #007700">; </span><span style="color: #FF8000">// -1<br></span><span style="color: #007700">echo </span><span style="color: #DD0000">"b" </span><span style="color: #007700">&lt;=&gt; </span><span style="color: #DD0000">"a"</span><span style="color: #007700">; </span><span style="color: #FF8000">// 1<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>

  
 </div>

 <div class="sect2" id="migration70.new-features.define-array">
  <h3 class="title">Constant arrays using <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.define.php" class="function">define()</a></span></h3>

  <p class="para">
   <span class="type">Array</span> constants can now be defined with
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.define.php" class="function">define()</a></span>. In PHP 5.6, they could only be defined with
   <a target="_blank" href="https://www.php.net/manual/en/language.constants.syntax.php" class="link"><code class="literal">const</code></a>.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />define</span><span style="color: #007700">(</span><span style="color: #DD0000">'ANIMALS'</span><span style="color: #007700">, [<br></span><span style="color: #DD0000">'dog'</span><span style="color: #007700">,<br></span><span style="color: #DD0000">'cat'</span><span style="color: #007700">,<br></span><span style="color: #DD0000">'bird'<br></span><span style="color: #007700">]);<br><br>echo </span><span style="color: #0000BB">ANIMALS</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]; </span><span style="color: #FF8000">// outputs "cat"<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration70.new-features.anonymous-classes">
  <h3 class="title">Anonymous classes</h3>

  <p class="para">
   Support for anonymous classes has been added via <code class="literal">new
   class</code>. These can be used in place of full class definitions for
   throwaway objects:
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">interface </span><span style="color: #0000BB">Logger </span><span style="color: #007700">{<br>    public function </span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #0000BB">string $msg</span><span style="color: #007700">);<br>}<br><br>class </span><span style="color: #0000BB">Application </span><span style="color: #007700">{<br>    private </span><span style="color: #0000BB">$logger</span><span style="color: #007700">;<br><br>    public function </span><span style="color: #0000BB">getLogger</span><span style="color: #007700">(): </span><span style="color: #0000BB">Logger </span><span style="color: #007700">{<br>         return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">logger</span><span style="color: #007700">;<br>    }<br><br>    public function </span><span style="color: #0000BB">setLogger</span><span style="color: #007700">(</span><span style="color: #0000BB">Logger $logger</span><span style="color: #007700">) {<br></span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">logger </span><span style="color: #007700">= </span><span style="color: #0000BB">$logger</span><span style="color: #007700">;<br>    }<br>}<br><br></span><span style="color: #0000BB">$app </span><span style="color: #007700">= new </span><span style="color: #0000BB">Application</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLogger</span><span style="color: #007700">(new class implements </span><span style="color: #0000BB">Logger </span><span style="color: #007700">{<br>    public function </span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #0000BB">string $msg</span><span style="color: #007700">) {<br>        echo </span><span style="color: #0000BB">$msg</span><span style="color: #007700">;<br>    }<br>});<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLogger</span><span style="color: #007700">());<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
object(class@anonymous)#2 (0) {
}
</pre></div>
   </div>
  </div>

  <p class="para">
   Full documentation can be found in the 
   <a target="_blank" href="https://www.php.net/manual/en/language.oop5.anonymous.php" class="link">anonymous class reference</a>.
  </p>
 </div>

 <div class="sect2" id="migration70.new-features.unicode-codepoint-escape-syntax">
  <h3 class="title">Unicode codepoint escape syntax</h3>

  <p class="para">
   This takes a Unicode codepoint in hexadecimal form, and outputs that
   codepoint in UTF-8 to a double-quoted string or a heredoc. Any valid
   codepoint is accepted, with leading 0's being optional.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">echo "\u{aa}";<br>echo "\u{0000aa}";<br>echo "\u{9999}";</span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
Âª
Âª (same as before but with optional leading 0's)
é¦™
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration70.new-features.closure-call-method">
  <h3 class="title"><span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/closure.call.php" class="methodname">Closure::call()</a></span></h3>

  <p class="para">
   <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/closure.call.php" class="methodname">Closure::call()</a></span> is a more performant, shorthand way
   of temporarily binding an object scope to a closure and invoking it.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">class </span><span style="color: #0000BB">A </span><span style="color: #007700">{private </span><span style="color: #0000BB">$x </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">;}<br><br></span><span style="color: #FF8000">// Pre PHP 7 code<br></span><span style="color: #0000BB">$getX </span><span style="color: #007700">= function() {return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">x</span><span style="color: #007700">;};<br></span><span style="color: #0000BB">$getXCB </span><span style="color: #007700">= </span><span style="color: #0000BB">$getX</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bindTo</span><span style="color: #007700">(new </span><span style="color: #0000BB">A</span><span style="color: #007700">, </span><span style="color: #DD0000">'A'</span><span style="color: #007700">); </span><span style="color: #FF8000">// intermediate closure<br></span><span style="color: #007700">echo </span><span style="color: #0000BB">$getXCB</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">// PHP 7+ code<br></span><span style="color: #0000BB">$getX </span><span style="color: #007700">= function() {return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">x</span><span style="color: #007700">;};<br>echo </span><span style="color: #0000BB">$getX</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">(new </span><span style="color: #0000BB">A</span><span style="color: #007700">);</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
1
1
</pre></div>
   </div>
  </div>
 </div>
 <div class="sect2" id="migration70.new-features.filtered-unserialize">
  <h3 class="title">Filtered <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.unserialize.php" class="function">unserialize()</a></span></h3>

  <p class="para">
   This feature seeks to provide better security when unserializing objects on
   untrusted data. It prevents possible code injections by enabling the
   developer to whitelist classes that can be unserialized.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /><br></span><span style="color: #FF8000">// converts all objects into __PHP_Incomplete_Class object<br></span><span style="color: #0000BB">$data </span><span style="color: #007700">= </span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">, [</span><span style="color: #DD0000">"allowed_classes" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">false</span><span style="color: #007700">]);<br><br></span><span style="color: #FF8000">// converts all objects into __PHP_Incomplete_Class object except those of MyClass and MyClass2<br></span><span style="color: #0000BB">$data </span><span style="color: #007700">= </span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">, [</span><span style="color: #DD0000">"allowed_classes" </span><span style="color: #007700">=&gt; [</span><span style="color: #DD0000">"MyClass"</span><span style="color: #007700">, </span><span style="color: #DD0000">"MyClass2"</span><span style="color: #007700">]]);<br><br></span><span style="color: #FF8000">// default behaviour (same as omitting the second argument) that accepts all classes<br></span><span style="color: #0000BB">$data </span><span style="color: #007700">= </span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">, [</span><span style="color: #DD0000">"allowed_classes" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true</span><span style="color: #007700">]);</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration70.new-features.intlchar">
  <h3 class="title"><span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.intlchar.php" class="classname">IntlChar</a></span></h3>

  <p class="para">
   The new <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.intlchar.php" class="classname">IntlChar</a></span> class seeks to expose additional
   ICU functionality. The class itself defines a number of static methods and
   constants that can be used to manipulate unicode characters.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /><br>printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'%x'</span><span style="color: #007700">, </span><span style="color: #0000BB">IntlChar</span><span style="color: #007700">::</span><span style="color: #0000BB">CODEPOINT_MAX</span><span style="color: #007700">);<br>echo </span><span style="color: #0000BB">IntlChar</span><span style="color: #007700">::</span><span style="color: #0000BB">charName</span><span style="color: #007700">(</span><span style="color: #DD0000">'@'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">IntlChar</span><span style="color: #007700">::</span><span style="color: #0000BB">ispunct</span><span style="color: #007700">(</span><span style="color: #DD0000">'!'</span><span style="color: #007700">));</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
10ffff
COMMERCIAL AT
bool(true)
</pre></div>
   </div>
  </div>

  <p class="para">
   In order to use this class, the <a target="_blank" href="https://www.php.net/manual/en/book.intl.php" class="link">Intl</a> extension must be installed.
  </p>
 </div>

 <div class="sect2" id="migration70.new-features.expectations">
  <h3 class="title">Expectations</h3>

  <p class="para">
   Expectations are a
   backwards compatible enhancement to the older <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.assert.php" class="function">assert()</a></span>
   function. They allow for zero-cost assertions in production code, and
   provide the ability to throw custom exceptions when the assertion fails.
  </p>

  <p class="para">
   While the old API continues to be maintained for compatibility,
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.assert.php" class="function">assert()</a></span> is now a language construct, allowing the first
   parameter to be an expression rather than just a <span class="type">string</span> to be
   evaluated or a <span class="type">bool</span> value to be tested.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'assert.exception'</span><span style="color: #007700">, </span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br>class </span><span style="color: #0000BB">CustomError </span><span style="color: #007700">extends </span><span style="color: #0000BB">AssertionError </span><span style="color: #007700">{}<br><br></span><span style="color: #0000BB">assert</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">, new </span><span style="color: #0000BB">CustomError</span><span style="color: #007700">(</span><span style="color: #DD0000">'Some error message'</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
Fatal error: Uncaught CustomError: Some error message
</pre></div>
   </div>
  </div>

  <p class="para">
   Full details on this feature, including how to configure it in both
   development and production environments, can be found on the manual page
   of the <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.assert.php" class="function">assert()</a></span> language construct.
  </p>
 </div>

 <div class="sect2" id="migration70.new-features.group-use-declarations">
  <h3 class="title">Group <code class="literal">use</code> declarations</h3>

  <p class="para">
   Classes, functions and constants being imported from the same <a target="_blank" href="https://www.php.net/manual/en/language.namespaces.definition.php" class="link"><code class="literal">namespace</code></a>
   can now be grouped together in a single <a target="_blank" href="https://www.php.net/manual/en/language.namespaces.importing.php" class="link"><code class="literal">use</code></a> statement.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #FF8000">// Pre PHP 7 code<br></span><span style="color: #007700">use </span><span style="color: #0000BB">some\namespace\ClassA</span><span style="color: #007700">;<br>use </span><span style="color: #0000BB">some\namespace\ClassB</span><span style="color: #007700">;<br>use </span><span style="color: #0000BB">some\namespace\ClassC </span><span style="color: #007700">as </span><span style="color: #0000BB">C</span><span style="color: #007700">;<br><br>use function </span><span style="color: #0000BB">some\namespace\fn_a</span><span style="color: #007700">;<br>use function </span><span style="color: #0000BB">some\namespace\fn_b</span><span style="color: #007700">;<br>use function </span><span style="color: #0000BB">some\namespace\fn_c</span><span style="color: #007700">;<br><br>use const </span><span style="color: #0000BB">some\namespace\ConstA</span><span style="color: #007700">;<br>use const </span><span style="color: #0000BB">some\namespace\ConstB</span><span style="color: #007700">;<br>use const </span><span style="color: #0000BB">some\namespace\ConstC</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">// PHP 7+ code<br></span><span style="color: #007700">use </span><span style="color: #0000BB">some\namespace</span><span style="color: #007700">\{</span><span style="color: #0000BB">ClassA</span><span style="color: #007700">, </span><span style="color: #0000BB">ClassB</span><span style="color: #007700">, </span><span style="color: #0000BB">ClassC </span><span style="color: #007700">as </span><span style="color: #0000BB">C</span><span style="color: #007700">};<br>use function </span><span style="color: #0000BB">some\namespace</span><span style="color: #007700">\{</span><span style="color: #0000BB">fn_a</span><span style="color: #007700">, </span><span style="color: #0000BB">fn_b</span><span style="color: #007700">, </span><span style="color: #0000BB">fn_c</span><span style="color: #007700">};<br>use const </span><span style="color: #0000BB">some\namespace</span><span style="color: #007700">\{</span><span style="color: #0000BB">ConstA</span><span style="color: #007700">, </span><span style="color: #0000BB">ConstB</span><span style="color: #007700">, </span><span style="color: #0000BB">ConstC</span><span style="color: #007700">};<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration70.new-features.generator-return-expressions">
  <h3 class="title">Generator Return Expressions</h3>

  <p class="para">
   This feature builds upon the generator functionality introduced into PHP 5.5.
   It enables for a <code class="literal">return</code> statement to be used within a
   generator to enable for a final expression to be returned (return by
   reference is not allowed). This value can be fetched using the new 
   <code class="literal">Generator::getReturn()</code> method, which may only be used
   once the generator has finished yielding values.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /><br>$gen </span><span style="color: #007700">= (function() {<br>    yield </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>    yield </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br><br>    return </span><span style="color: #0000BB">3</span><span style="color: #007700">;<br>})();<br><br>foreach (</span><span style="color: #0000BB">$gen </span><span style="color: #007700">as </span><span style="color: #0000BB">$val</span><span style="color: #007700">) {<br>    echo </span><span style="color: #0000BB">$val</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>}<br><br>echo </span><span style="color: #0000BB">$gen</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getReturn</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
1
2
3
</pre></div>
   </div>
  </div>

  <p class="para">
   Being able to explicitly return a final value from a generator is a handy
   ability to have. This is because it enables for a final value to be returned
   by a generator (from perhaps some form of coroutine computation) that can be
   specifically handled by the client code executing the generator. This is far
   simpler than forcing the client code to firstly check whether the final
   value has been yielded, and then if so, to handle that value specifically.
  </p>
 </div>
 <div class="sect2" id="migration70.new-features.generator-delegation">
  <h3 class="title">Generator delegation</h3>

  <p class="para">
   Generators can now delegate to another generator,
   <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.traversable.php" class="classname">Traversable</a></span> object or <span class="type">array</span>
   automatically, without needing to write boilerplate in the outermost
   generator by using the <a target="_blank" href="https://www.php.net/manual/en/language.generators.syntax.php#control-structures.yield.from" class="link"><code class="literal">yield from</code></a> construct.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">function </span><span style="color: #0000BB">gen</span><span style="color: #007700">()<br>{<br>    yield </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>    yield </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br>    yield from </span><span style="color: #0000BB">gen2</span><span style="color: #007700">();<br>}<br><br>function </span><span style="color: #0000BB">gen2</span><span style="color: #007700">()<br>{<br>    yield </span><span style="color: #0000BB">3</span><span style="color: #007700">;<br>    yield </span><span style="color: #0000BB">4</span><span style="color: #007700">;<br>}<br><br>foreach (</span><span style="color: #0000BB">gen</span><span style="color: #007700">() as </span><span style="color: #0000BB">$val</span><span style="color: #007700">)<br>{<br>    echo </span><span style="color: #0000BB">$val</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
1
2
3
4
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration70.new-features.intdiv">
  <h3 class="title">Integer division with <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.intdiv.php" class="function">intdiv()</a></span></h3>

  <p class="para">
   The new <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.intdiv.php" class="function">intdiv()</a></span> function performs an integer division
   of its operands and returns it.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">intdiv</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
int(3)
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration70.new-features.session-options">
  <h3 class="title">Session options</h3>

  <p class="para">
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.session-start.php" class="function">session_start()</a></span> now accepts an <span class="type">array</span> of
   options that override the
   <a target="_blank" href="https://www.php.net/manual/en/session.configuration.php" class="link">session configuration directives</a>
   normally set in php.ini.
  </p>

  <p class="para">
   These options have also been expanded to support
   <a target="_blank" href="https://www.php.net/manual/en/session.configuration.php#ini.session.lazy-write" class="link">session.lazy_write</a>, which is
   on by default and causes PHP to only overwrite any session file if the
   session data has changed, and <code class="literal">read_and_close</code>, which is
   an option that can only be passed to <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.session-start.php" class="function">session_start()</a></span> to
   indicate that the session data should be read and then the session should
   immediately be closed unchanged.
  </p>

  <p class="para">
   For example, to set
   <a target="_blank" href="https://www.php.net/manual/en/session.configuration.php#ini.session.cache-limiter" class="link">session.cache_limiter</a> to
   <code class="literal">private</code> and immediately close the session after reading
   it:
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />session_start</span><span style="color: #007700">([<br></span><span style="color: #DD0000">'cache_limiter' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'private'</span><span style="color: #007700">,<br></span><span style="color: #DD0000">'read_and_close' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">true</span><span style="color: #007700">,<br>]);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration70.new-features.preg-repace-callback-array-function">
  <h3 class="title"><span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.preg-replace-callback-array.php" class="function">preg_replace_callback_array()</a></span></h3>

  <p class="para">
   The new <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.preg-replace-callback-array.php" class="function">preg_replace_callback_array()</a></span> function enables
   code to be written more cleanly when using the
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.preg-replace-callback.php" class="function">preg_replace_callback()</a></span> function. Prior to PHP 7,
   callbacks that needed to be executed per regular expression required the
   callback function to be polluted with lots of branching.
  </p>

  <p class="para">
   Now, callbacks can be registered to each regular expression using an
   associative array, where the key is a regular expression and the value is a
   callback.
  </p>
 </div>

 <div class="sect2" id="migration70.new-features.csprng-functions">
  <h3 class="title">CSPRNG Functions</h3>

  <p class="para">
   Two new functions have been added to generate cryptographically secure
   integers and strings in a cross platform way:
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.random-bytes.php" class="function">random_bytes()</a></span> and <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.random-int.php" class="function">random_int()</a></span>.
  </p>
 </div>

 <div class="sect2" id="migration70.new-features.list-arrayaccess">
  <h3 class="title">
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.list.php" class="function">list()</a></span> can always unpack objects implementing
   <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.arrayaccess.php" class="classname">ArrayAccess</a></span>
  </h3>

  <p class="para">
   Previously, <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.list.php" class="function">list()</a></span> was not guaranteed to operate
   correctly with objects implementing <span class="classname"><a target="_blank" href="https://www.php.net/manual/en/class.arrayaccess.php" class="classname">ArrayAccess</a></span>.
   This has been fixed.
  </p>
 </div>
 
 <div class="sect2" id="migration70.new-features.others">
  <h3 class="title">Other Features</h3>
  <ul class="itemizedlist"><li class="listitem">
    <span class="simpara">
     Class member access on cloning has been added,
     e.g. <code class="literal">(clone $foo)-&gt;bar()</code>.
    </span>
   </li>
  </ul></div>
</div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration56.new-features.php" target="_blank">PHP 5.6</a></h1>
    </header>

    <div id="migration56.new-features" class="sect1">
 <h2 class="title">New features</h2>

 <div class="sect2" id="migration56.new-features.const-scalar-exprs">
  <h3 class="title">Constant expressions</h3>

  <p class="para">
   It is now possible to provide a scalar expression involving numeric and
   string literals and/or constants in contexts where PHP previously expected
   a static value, such as constant and property declarations and default
   function arguments.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">const </span><span style="color: #0000BB">ONE </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>const </span><span style="color: #0000BB">TWO </span><span style="color: #007700">= </span><span style="color: #0000BB">ONE </span><span style="color: #007700">* </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br><br>class </span><span style="color: #0000BB">C </span><span style="color: #007700">{<br>    const </span><span style="color: #0000BB">THREE </span><span style="color: #007700">= </span><span style="color: #0000BB">TWO </span><span style="color: #007700">+ </span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>    const </span><span style="color: #0000BB">ONE_THIRD </span><span style="color: #007700">= </span><span style="color: #0000BB">ONE </span><span style="color: #007700">/ </span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">THREE</span><span style="color: #007700">;<br>    const </span><span style="color: #0000BB">SENTENCE </span><span style="color: #007700">= </span><span style="color: #DD0000">'The value of THREE is '</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">THREE</span><span style="color: #007700">;<br><br>    public function </span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">ONE </span><span style="color: #007700">+ </span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">THREE</span><span style="color: #007700">) {<br>        return </span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br>    }<br>}<br><br>echo (new </span><span style="color: #0000BB">C</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">f</span><span style="color: #007700">().</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>echo </span><span style="color: #0000BB">C</span><span style="color: #007700">::</span><span style="color: #0000BB">SENTENCE</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
4
The value of THREE is 3
</pre></div>
   </div>
  </div>

  <p class="para">
   It is also now possible to define a constant <span class="type">array</span> using the
   <code class="literal">const</code> keyword:
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">const </span><span style="color: #0000BB">ARR </span><span style="color: #007700">= [</span><span style="color: #DD0000">'a'</span><span style="color: #007700">, </span><span style="color: #DD0000">'b'</span><span style="color: #007700">];<br><br>echo </span><span style="color: #0000BB">ARR</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
a
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration56.new-features.variadics">
  <h3 class="title">Variadic functions via <code class="literal">...</code></h3>

  <p class="para">
   <a target="_blank" href="https://www.php.net/manual/en/functions.arguments.php#functions.variable-arg-list" class="link">Variadic functions</a> can
   now be implemented using the <code class="literal">...</code> operator, instead of
   relying on <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.func-get-args.php" class="function">func_get_args()</a></span>.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">function </span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$opt </span><span style="color: #007700">= </span><span style="color: #0000BB">null</span><span style="color: #007700">, ...</span><span style="color: #0000BB">$params</span><span style="color: #007700">) {<br></span><span style="color: #FF8000">// $params is an array containing the remaining arguments.<br></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">'$req: %d; $opt: %d; number of params: %d'</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">,<br></span><span style="color: #0000BB">$req</span><span style="color: #007700">, </span><span style="color: #0000BB">$opt</span><span style="color: #007700">, </span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$params</span><span style="color: #007700">));<br>}<br><br></span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br></span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">2</span><span style="color: #007700">);<br></span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">);<br></span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">);<br></span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">, </span><span style="color: #0000BB">5</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
$req: 1; $opt: 0; number of params: 0
$req: 1; $opt: 2; number of params: 0
$req: 1; $opt: 2; number of params: 1
$req: 1; $opt: 2; number of params: 2
$req: 1; $opt: 2; number of params: 3
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration56.new-features.splat">
  <h3 class="title">Argument unpacking via <code class="literal">...</code></h3>

  <p class="para">
   <a target="_blank" href="https://www.php.net/manual/en/language.types.array.php" class="link">Arrays</a> and
   <span class="interfacename"><a target="_blank" href="https://www.php.net/manual/en/class.traversable.php" class="interfacename">Traversable</a></span> objects can be unpacked into
   argument lists when calling functions by using the <code class="literal">...</code>
   operator. This is also known as the splat operator in other languages,
   including Ruby.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">function </span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">, </span><span style="color: #0000BB">$b</span><span style="color: #007700">, </span><span style="color: #0000BB">$c</span><span style="color: #007700">) {<br>    return </span><span style="color: #0000BB">$a </span><span style="color: #007700">+ </span><span style="color: #0000BB">$b </span><span style="color: #007700">+ </span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$operators </span><span style="color: #007700">= [</span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">];<br>echo </span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">, ...</span><span style="color: #0000BB">$operators</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
6
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration56.new-features.exponentiation">
  <h3 class="title">Exponentiation via <code class="literal">**</code></h3>

  <p class="para">
   A right associative <code class="literal">**</code> operator has been added to
   support exponentiation, along with a <code class="literal">**=</code> shorthand
   assignment operator.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"2 ** 3 ==      %d\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">2 </span><span style="color: #007700">** </span><span style="color: #0000BB">3</span><span style="color: #007700">);<br></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"2 ** 3 ** 2 == %d\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">2 </span><span style="color: #007700">** </span><span style="color: #0000BB">3 </span><span style="color: #007700">** </span><span style="color: #0000BB">2</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$a </span><span style="color: #007700">**= </span><span style="color: #0000BB">3</span><span style="color: #007700">;<br></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"a ==           %d\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  <p class="para">The above example will output:</p>
  <div class="example-contents screen">
<div class="cdata"><pre>
2 ** 3 ==      8
2 ** 3 ** 2 == 512
a ==           8
</pre></div>
  </div>
  </div>
 </div>

 <div class="sect2" id="migration56.new-features.use">
  <h3 class="title"><code class="literal">use function</code> and <code class="literal">use const</code></h3>

  <p class="para">
   The
   <a target="_blank" href="https://www.php.net/manual/en/language.namespaces.importing.php" class="link"><code class="literal">use</code></a> 
   operator has been extended to support importing functions and constants in
   addition to classes. This is achieved via the
   <code class="literal">use function</code> and <code class="literal">use const</code>
   constructs, respectively.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">namespace </span><span style="color: #0000BB">Name\Space </span><span style="color: #007700">{<br>    const </span><span style="color: #0000BB">FOO </span><span style="color: #007700">= </span><span style="color: #0000BB">42</span><span style="color: #007700">;<br>    function </span><span style="color: #0000BB">f</span><span style="color: #007700">() { echo </span><span style="color: #0000BB">__FUNCTION__</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">; }<br>}<br><br>namespace {<br>    use const </span><span style="color: #0000BB">Name\Space\FOO</span><span style="color: #007700">;<br>    use function </span><span style="color: #0000BB">Name\Space\f</span><span style="color: #007700">;<br><br>    echo </span><span style="color: #0000BB">FOO</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">f</span><span style="color: #007700">();<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
42
Name\Space\f
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration56.new-features.phpdbg">
  <h3 class="title">phpdbg</h3>

  <p class="para">
   PHP now includes an interactive debugger called phpdbg implemented as a
   SAPI module. For more information, please visit the
   <a target="_blank" href="https://www.php.net/manual/en/book.phpdbg.php" class="link">phpdbg documentation</a>.
  </p>
 </div>

 <div class="sect2" id="migration56.new-features.default-encoding">
  <h3 class="title">Default character encoding</h3>

  <p class="para">
   <a target="_blank" href="https://www.php.net/manual/en/ini.core.php#ini.default-charset" class="link">default_charset</a> is now used as
   the default character set for the <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.htmlentities.php" class="function">htmlentities()</a></span>,
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.html-entity-decode.php" class="function">html_entity_decode()</a></span> and
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.htmlspecialchars.php" class="function">htmlspecialchars()</a></span> functions. Note that if the (now
   deprecated) iconv and mbstring encoding settings are set, they will take
   precedence over default_charset for iconv and mbstring functions,
   respectively.
  </p>

  <p class="para">
   The default value for this setting is <code class="literal">UTF-8</code>.
  </p>
 </div>

 <div class="sect2" id="migration56.new-features.reusable-input">
  <h3 class="title"><a target="_blank" href="https://www.php.net/manual/en/wrappers.php.php#wrappers.php.input" class="link"><code class="literal">php://input</code></a> is reusable</h3>

  <p class="para">
   <a target="_blank" href="https://www.php.net/manual/en/wrappers.php.php#wrappers.php.input" class="link"><code class="literal">php://input</code></a>
   may now be reopened and read as many times as required. This work has also
   resulted in a major reduction in the amount of memory required to deal
   with POST data.
  </p>
 </div>

 <div class="sect2" id="migration56.new-features.large-file">
  <h3 class="title">Large file uploads</h3>

  <p class="para">
   Files larger than 2 gigabytes in size are now accepted.
  </p>
 </div>

 <div class="sect2" id="migration56.new-features.gmp">
  <h3 class="title"><a target="_blank" href="https://www.php.net/manual/en/book.gmp.php" class="link">GMP</a> supports operator overloading</h3>

  <p class="para">
   <a target="_blank" href="https://www.php.net/manual/en/book.gmp.php" class="link">GMP</a> objects now support operator
   overloading and casting to scalar types. This allows for more expressive
   code using GMP:
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$a </span><span style="color: #007700">= </span><span style="color: #0000BB">gmp_init</span><span style="color: #007700">(</span><span style="color: #0000BB">42</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$b </span><span style="color: #007700">= </span><span style="color: #0000BB">gmp_init</span><span style="color: #007700">(</span><span style="color: #0000BB">17</span><span style="color: #007700">);<br><br>if (</span><span style="color: #0000BB">version_compare</span><span style="color: #007700">(</span><span style="color: #0000BB">PHP_VERSION</span><span style="color: #007700">, </span><span style="color: #DD0000">'5.6'</span><span style="color: #007700">, </span><span style="color: #DD0000">'&lt;'</span><span style="color: #007700">)) {<br>    echo </span><span style="color: #0000BB">gmp_intval</span><span style="color: #007700">(</span><span style="color: #0000BB">gmp_add</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">, </span><span style="color: #0000BB">$b</span><span style="color: #007700">)), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #0000BB">gmp_intval</span><span style="color: #007700">(</span><span style="color: #0000BB">gmp_add</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">, </span><span style="color: #0000BB">17</span><span style="color: #007700">)), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #0000BB">gmp_intval</span><span style="color: #007700">(</span><span style="color: #0000BB">gmp_add</span><span style="color: #007700">(</span><span style="color: #0000BB">42</span><span style="color: #007700">, </span><span style="color: #0000BB">$b</span><span style="color: #007700">)), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>} else {<br>    echo </span><span style="color: #0000BB">$a </span><span style="color: #007700">+ </span><span style="color: #0000BB">$b</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #0000BB">$a </span><span style="color: #007700">+ </span><span style="color: #0000BB">17</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>    echo </span><span style="color: #0000BB">42 </span><span style="color: #007700">+ </span><span style="color: #0000BB">$b</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
59
59
59
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration56.new-features.hash-equals">
  <h3 class="title"><span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.hash-equals.php" class="function">hash_equals()</a></span> for timing attack safe string comparison</h3>

  <p class="para">
   The <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.hash-equals.php" class="function">hash_equals()</a></span> function has been added to compare
   two strings in constant time. This should be used to mitigate timing
   attacks; for instance, when testing <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.crypt.php" class="function">crypt()</a></span> password
   hashes (assuming that you are unable to use
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.password-hash.php" class="function">password_hash()</a></span> and
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.password-verify.php" class="function">password_verify()</a></span>, which aren't susceptible to timing
   attacks).
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br />$expected  </span><span style="color: #007700">= </span><span style="color: #0000BB">crypt</span><span style="color: #007700">(</span><span style="color: #DD0000">'12345'</span><span style="color: #007700">, </span><span style="color: #DD0000">'$2a$07$usesomesillystringforsalt$'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$correct   </span><span style="color: #007700">= </span><span style="color: #0000BB">crypt</span><span style="color: #007700">(</span><span style="color: #DD0000">'12345'</span><span style="color: #007700">, </span><span style="color: #DD0000">'$2a$07$usesomesillystringforsalt$'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$incorrect </span><span style="color: #007700">= </span><span style="color: #0000BB">crypt</span><span style="color: #007700">(</span><span style="color: #DD0000">'1234'</span><span style="color: #007700">,  </span><span style="color: #DD0000">'$2a$07$usesomesillystringforsalt$'</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">hash_equals</span><span style="color: #007700">(</span><span style="color: #0000BB">$expected</span><span style="color: #007700">, </span><span style="color: #0000BB">$correct</span><span style="color: #007700">));<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">hash_equals</span><span style="color: #007700">(</span><span style="color: #0000BB">$expected</span><span style="color: #007700">, </span><span style="color: #0000BB">$incorrect</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
bool(true)
bool(false)
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration56.new-features.debuginfo">
  <h3 class="title"><code class="literal">__debugInfo()</code></h3>

  <p class="para">
   The <a target="_blank" href="https://www.php.net/manual/en/language.oop5.magic.php#language.oop5.magic.debuginfo" class="link">__debugInfo()</a>
   magic method has been added to allow objects to change the properties and
   values that are shown when the object is output using
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.var-dump.php" class="function">var_dump()</a></span>.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB"><?php <br /></span><span style="color: #007700">class </span><span style="color: #0000BB">C </span><span style="color: #007700">{<br>    private </span><span style="color: #0000BB">$prop</span><span style="color: #007700">;<br><br>    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">) {<br></span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prop </span><span style="color: #007700">= </span><span style="color: #0000BB">$val</span><span style="color: #007700">;<br>    }<br><br>    public function </span><span style="color: #0000BB">__debugInfo</span><span style="color: #007700">() {<br>        return [<br></span><span style="color: #DD0000">'propSquared' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prop </span><span style="color: #007700">** </span><span style="color: #0000BB">2</span><span style="color: #007700">,<br>        ];<br>    }<br>}<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(new </span><span style="color: #0000BB">C</span><span style="color: #007700">(</span><span style="color: #0000BB">42</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <p class="para">The above example will output:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
object(C)#1 (1) {
  ["propSquared"]=&gt;
  int(1764)
}
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration56.new-features.gost">
  <h3 class="title">gost-crypto hash algorithm</h3>

  <p class="para">
   The <code class="literal">gost-crypto</code> hash algorithm has been added. This
   implements the GOST hash function using the CryptoPro S-box tables as
   specified by
   <a target="_blank" href="https://www.php.net/manual/en/http://www.faqs.org/rfcs/rfc4357" class="link external">Â»Â RFC 4357, section 11.2</a>.
  </p>
 </div>

 <div class="sect2" id="migration56.new-features.openssl">
  <h3 class="title">SSL/TLS improvements</h3>

  <p class="para">
   A wide range of improvements have been made to the SSL/TLS support in PHP
   5.6. These include
   <a target="_blank" href="https://www.php.net/manual/en/migration56.incompatible.php#migration56.incompatible.peer-verification" class="link">enabling peer verification by default</a>,
   supporting certificate fingerprint matching, mitigating against TLS
   renegotiation attacks, and many new
   <a target="_blank" href="https://www.php.net/manual/en/context.ssl.php" class="link">SSL context options</a> to allow more fine
   grained control over protocol and verification settings when using
   encrypted streams.
  </p>

  <p class="para">
   These changes are described in more detail in the
   <a target="_blank" href="https://www.php.net/manual/en/migration56.openssl.php" class="link">OpenSSL changes in PHP 5.6.x</a>
   section of this migration guide.
  </p>
 </div>

 <div class="sect2" id="migration56.new-features.postgresql">
  <h3 class="title"><a target="_blank" href="https://www.php.net/manual/en/book.pgsql.php" class="link">pgsql</a> async support</h3>

  <p class="para">
   The <a target="_blank" href="https://www.php.net/manual/en/book.pgsql.php" class="link">pgsql</a> extension now supports
   asynchronous connections and queries, thereby enabling non-blocking
   behaviour when interacting with PostgreSQL databases. Asynchronous
   connections may be established via the
   <strong><code>PGSQL_CONNECT_ASYNC</code></strong> constant, and the new
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.pg-connect-poll.php" class="function">pg_connect_poll()</a></span>, <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.pg-socket.php" class="function">pg_socket()</a></span>,
   <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.pg-consume-input.php" class="function">pg_consume_input()</a></span> and <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.pg-flush.php" class="function">pg_flush()</a></span>
   functions may be used to handle asynchronous connections and queries.
  </p>
 </div>
</div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration55.new-features.php" target="_blank">PHP 5.5</a></h1>
    </header>

    <div id="migration55.new-features" class="sect1">
  <h2 class="title">New features</h2>

  <div class="sect2" id="migration55.new-features.generators">
   <h3 class="title"><a target="_blank" href="https://www.php.net/manual/en/language.generators.html" class="link">Generators</a> added</h3>

   <p class="para">
    Support for <a target="_blank" href="https://www.php.net/manual/en/language.generators.html" class="link">generators</a> has been
    added via the <strong class="command">yield</strong> keyword. Generators provide an easy
    way to implement simple iterators without the overhead or complexity of
    implementing a class that implements the <a target="_blank" href="https://www.php.net/manual/en/class.iterator.html" class="classname">Iterator</a>
    interface.
   </p>

   <p class="para">
    A simple example that reimplements the <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.range.html" class="function">range()</a></span>
    function as a generator (at least for positive <code class="literal">step</code>
    values):
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB"><?php <br></span><span style="color: #007700">functionÂ </span><span style="color: #0000BB">xrange</span><span style="color: #007700">(</span><span style="color: #0000BB">$start</span><span style="color: #007700">,Â </span><span style="color: #0000BB">$limit</span><span style="color: #007700">,Â </span><span style="color: #0000BB">$stepÂ </span><span style="color: #007700">=Â </span><span style="color: #0000BB">1</span><span style="color: #007700">)Â {<br>Â Â Â Â forÂ (</span><span style="color: #0000BB">$iÂ </span><span style="color: #007700">=Â </span><span style="color: #0000BB">$start</span><span style="color: #007700">;Â </span><span style="color: #0000BB">$iÂ </span><span style="color: #007700">&lt;=Â </span><span style="color: #0000BB">$limit</span><span style="color: #007700">;Â </span><span style="color: #0000BB">$iÂ </span><span style="color: #007700">+=Â </span><span style="color: #0000BB">$step</span><span style="color: #007700">)Â {<br>Â Â Â Â Â Â Â Â yieldÂ </span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br>Â Â Â Â }<br>}<br><br>echoÂ </span><span style="color: #DD0000">'SingleÂ digitÂ oddÂ numbers:Â '</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*<br>Â *Â NoteÂ thatÂ anÂ arrayÂ isÂ neverÂ createdÂ orÂ returned,<br>Â *Â whichÂ savesÂ memory.<br>Â */<br></span><span style="color: #007700">foreachÂ (</span><span style="color: #0000BB">xrange</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,Â </span><span style="color: #0000BB">9</span><span style="color: #007700">,Â </span><span style="color: #0000BB">2</span><span style="color: #007700">)Â asÂ </span><span style="color: #0000BB">$number</span><span style="color: #007700">)Â {<br>Â Â Â Â echoÂ </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$number</span><span style="color: #DD0000">Â "</span><span style="color: #007700">;<br>}<br><br>echoÂ </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <p class="para">The above example will output:</p>
    <div class="example-contents screen">
<div class="cdata"><pre>
Single digit odd numbers: 1 3 5 7 9 
</pre></div>
    </div>
   </div>
  </div>

  <div class="sect2" id="migration55.new-features.finally">
   <h3 class="title"><a target="_blank" href="https://www.php.net/manual/en/language.exceptions.html#language.exceptions.finally" class="link"><code class="literal">finally</code></a> keyword added</h3>

   <p class="para">
    <a target="_blank" href="https://www.php.net/manual/en/language.exceptions.html" class="link"><code class="literal">try</code></a>-<a target="_blank" href="https://www.php.net/manual/en/language.exceptions.html#language.exceptions.catch" class="link"><code class="literal">catch</code></a> blocks now support a <a target="_blank" href="https://www.php.net/manual/en/language.exceptions.html#language.exceptions.finally" class="link"><code class="literal">finally</code></a> block for code that should be
    run regardless of whether an exception has been thrown or not.
   </p>
  </div>

  <div class="sect2" id="migration55.new-features.password">
   <h3 class="title">New password hashing API</h3>

   <p class="para">
    A <a target="_blank" href="https://www.php.net/manual/en/book.password.html" class="link">new password hashing API</a> that makes
    it easier to securely hash and manage passwords using the same underlying
    library as <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.crypt.html" class="function">crypt()</a></span> in PHP has been added. See the
    documentation for <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.password-hash.html" class="function">password_hash()</a></span> for more detail.
   </p>
  </div>

  <div class="sect2" id="migration55.new-features.foreach-list">
   <h3 class="title"><a target="_blank" href="https://www.php.net/manual/en/control-structures.foreach.html" class="link"><code class="literal">foreach</code></a> now supports <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.list.html" class="function">list()</a></span></h3>

   <p class="para">
    The <a target="_blank" href="https://www.php.net/manual/en/control-structures.foreach.html" class="link">foreach</a> control
    structure now supports unpacking nested arrays into separate variables via
    the <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.list.html" class="function">list()</a></span> construct. For example:
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB"><?php <br>$arrayÂ </span><span style="color: #007700">=Â [<br>Â Â Â Â [</span><span style="color: #0000BB">1</span><span style="color: #007700">,Â </span><span style="color: #0000BB">2</span><span style="color: #007700">],<br>Â Â Â Â [</span><span style="color: #0000BB">3</span><span style="color: #007700">,Â </span><span style="color: #0000BB">4</span><span style="color: #007700">],<br>];<br><br>foreachÂ (</span><span style="color: #0000BB">$arrayÂ </span><span style="color: #007700">asÂ list(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,Â </span><span style="color: #0000BB">$b</span><span style="color: #007700">))Â {<br>Â Â Â Â echoÂ </span><span style="color: #DD0000">"A:Â </span><span style="color: #0000BB">$a</span><span style="color: #DD0000">;Â B:Â </span><span style="color: #0000BB">$b</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <p class="para">The above example will output:</p>
    <div class="example-contents screen">
<div class="cdata"><pre>
A: 1; B: 2
A: 3; B: 4
</pre></div>
    </div>
   </div>

   <p class="para">
    Further documentation is available on the
    <a target="_blank" href="https://www.php.net/manual/en/control-structures.foreach.html#control-structures.foreach.list" class="link">foreach</a> manual
    page.
   </p>
  </div>

  <div class="sect2" id="migration55.new-features.empty">
   <h3 class="title"><span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.empty.html" class="function">empty()</a></span> supports arbitrary expressions</h3>

   <p class="para">
    Passing an arbitrary expression instead of a variable to
    <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.empty.html" class="function">empty()</a></span> is now supported. For example:
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB"><?php <br></span><span style="color: #007700">functionÂ </span><span style="color: #0000BB">always_false</span><span style="color: #007700">()Â {<br>Â Â Â Â returnÂ </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>}<br><br>ifÂ (empty(</span><span style="color: #0000BB">always_false</span><span style="color: #007700">()))Â {<br>Â Â Â Â echoÂ </span><span style="color: #DD0000">"ThisÂ willÂ beÂ printed.\n"</span><span style="color: #007700">;<br>}<br><br>ifÂ (empty(</span><span style="color: #0000BB">true</span><span style="color: #007700">))Â {<br>Â Â Â Â echoÂ </span><span style="color: #DD0000">"ThisÂ willÂ notÂ beÂ printed.\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <p class="para">The above example will output:</p>
    <div class="example-contents screen">
<div class="cdata"><pre>
This will be printed.
</pre></div>
    </div>
   </div>
  </div>

  <div class="sect2" id="migration55.new-features.const-dereferencing">
   <h3 class="title"><span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.array.html" class="type array">array</a></span> and <span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.string.html" class="type string">string</a></span> literal dereferencing</h3>

   <p class="para">
    <span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.array.html" class="type Array">Array</a></span> and <span class="type"><a target="_blank" href="https://www.php.net/manual/en/language.types.string.html" class="type string">string</a></span> literals can now be
    dereferenced directly to access individual elements and characters:

    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB"><?php <br></span><span style="color: #007700">echoÂ </span><span style="color: #DD0000">'ArrayÂ dereferencing:Â '</span><span style="color: #007700">;<br>echoÂ [</span><span style="color: #0000BB">1</span><span style="color: #007700">,Â </span><span style="color: #0000BB">2</span><span style="color: #007700">,Â </span><span style="color: #0000BB">3</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br>echoÂ </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br><br>echoÂ </span><span style="color: #DD0000">'StringÂ dereferencing:Â '</span><span style="color: #007700">;<br>echoÂ </span><span style="color: #DD0000">'PHP'</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br>echoÂ </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <p class="para">The above example will output:</p>
     <div class="example-contents screen">
<div class="cdata"><pre>
Array dereferencing: 1
String dereferencing: P
</pre></div>
     </div>
    </div>
   
  </div>

  <div class="sect2" id="migration55.new-features.class-name">
   <h3 class="title">Class name resolution via <a target="_blank" href="https://www.php.net/manual/en/language.oop5.basic.html#language.oop5.basic.class.class" class="link">::class</a></h3>

   <p class="para">
    It is possible to use <code class="literal">ClassName::class</code> to get a fully
    qualified name of class <code class="literal">ClassName</code>. For example:

    </p><div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB"><?php <br></span><span style="color: #007700">namespaceÂ </span><span style="color: #0000BB">Name</span><span style="color: #007700">\</span><span style="color: #0000BB">Space</span><span style="color: #007700">;<br>classÂ </span><span style="color: #0000BB">ClassNameÂ </span><span style="color: #007700">{}<br><br>echoÂ </span><span style="color: #0000BB">ClassName</span><span style="color: #007700">::class;<br><br>echoÂ </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <p class="para">The above example will output:</p>
     <div class="example-contents screen">
<div class="cdata"><pre>
Name\Space\ClassName
</pre></div>
     </div>
    </div>
   
  </div>

  <div class="sect2" id="migration55.new-features.opcache">
   <h3 class="title"><a target="_blank" href="https://www.php.net/manual/en/book.opcache.html" class="link">OPcache</a> extension added</h3>

   <p class="para">
    The Zend Optimiser+ opcode cache has been added to PHP as the new
    <a target="_blank" href="https://www.php.net/manual/en/book.opcache.html" class="link">OPcache extension</a>.
    OPcache improves PHP performance by storing precompiled script bytecode in
    shared memory, thereby removing the need for PHP to load and parse scripts
    on each request. See
    <a target="_blank" href="https://www.php.net/manual/en/opcache.installation.html" class="link">the installation instructions</a>
    for more detail on enabling and using OPcache.
   </p>
  </div>

  <div class="sect2" id="migration55.new-features.non-scalar-iterator-keys">
   <h3 class="title"><a target="_blank" href="https://www.php.net/manual/en/control-structures.foreach.html" class="link"><code class="literal">foreach</code></a> now supports non-scalar keys</h3>

   <p class="para">
    <a target="_blank" href="https://www.php.net/manual/en/control-structures.foreach.html" class="link">foreach</a> now supports
    keys of any type. While non-scalar keys cannot occur in native PHP arrays,
    it is possible for <span class="methodname"><a target="_blank" href="https://www.php.net/manual/en/iterator.key.html" class="methodname">Iterator::key()</a></span> to return a
    value of any type, and this will now be handled correctly.
   </p>
  </div>

  <div class="sect2" id="migration55.new-features.windows-apache">
   <h3 class="title">Apache 2.4 handler supported on Windows</h3>

   <p class="para">
    The Apache 2.4 handler SAPI is now supported on Windows.
   </p>
  </div>

  <div class="sect2" id="migration55.new-features.gd">
   <h3 class="title">Improvements to GD</h3>

   <p class="para">
    Various improvements have been made to the GD extension, these include:
   </p>

   <ul class="itemizedlist"><li class="listitem">
     <span class="simpara">
      Flipping support using the new <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.imageflip.html" class="function">imageflip()</a></span> 
      function.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Advanced cropping support using the <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.imagecrop.html" class="function">imagecrop()</a></span> &amp; 
      <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.imagecropauto.html" class="function">imagecropauto()</a></span> functions.
     </span>
    </li>
   </ul></div>
 </div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration54.new-features.php" target="_blank">PHP 5.4</a></h1>
    </header>

    <div id="migration54.new-features" class="section">
  <h2 class="title">New features</h2>
  <p class="simpara">
   PHP 5.4.0 offers a wide range of new features:
  </p>
  <ul class="itemizedlist"><li class="listitem">
    <span class="simpara">
     Support for <a target="_blank" href="https://www.php.net/manual/en/language.oop5.traits.html" class="link">traits</a> has been added.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Short array syntax has been added, e.g. <code class="literal">$a = [1, 2, 3, 4];</code> or
     <code class="literal">$a = ['one' =&gt; 1, 'two' =&gt; 2, 'three' =&gt; 3, 'four' =&gt; 4];</code>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Function array dereferencing has been added, e.g. <code class="literal">foo()[0]</code>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <a target="_blank" href="https://www.php.net/manual/en/functions.anonymous.html" class="link">Closures</a> now support <code class="literal">$this</code>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <code class="literal">=</code> is now always available, regardless of the
     <a target="_blank" href="https://www.php.net/manual/en/ini.core.html#ini.short-open-tag" class="link">short_open_tag</a> <var class="filename">php.ini</var> option.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Class member access on instantiation has been added,
     e.g. <code class="literal">(new Foo)-&gt;bar()</code>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <code class="literal">Class::{expr}()</code> syntax is now supported.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Binary number format has been added, e.g. <code class="literal">0b001001101</code>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Improved parse error messages and improved incompatible arguments warnings.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     The session extension can now track the <a target="_blank" href="https://www.php.net/manual/en/session.upload-progress.html" class="link">upload progress</a> of files.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Built-in development <a target="_blank" href="https://www.php.net/manual/en/features.commandline.webserver.html" class="link">web server in CLI mode</a>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     The GD extension now supports reading and writing of WebP images via
     <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.imagecreatefromwebp.html" class="function">imagecreatefromwebp()</a></span> and <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.imagewebp.html" class="function">imagewebp()</a></span>,
     respectively.
    </span>
   </li>
  </ul></div></article><article id="layout-content" class="info-version">
    <header class="info-version-header">
        <h1><a href="https://www.php.net/manual/en/migration53.new-features.php" target="_blank">PHP 5.3</a></h1>
    </header>

    <div id="migration53.new-features" class="section">
  <h2 class="title">New features</h2>
  <p class="simpara">
   PHP 5.3.0 offers a wide range of new features:
  </p>
  <ul class="itemizedlist"><li class="listitem">
    <span class="simpara">
     Support for <a target="_blank" href="https://www.php.net/manual/en/language.namespaces.html" class="link">namespaces</a> has been 
     added.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Support for <a target="_blank" href="https://www.php.net/manual/en/language.oop5.late-static-bindings.html" class="link">Late Static
     Bindings</a> has been added.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Support for <a target="_blank" href="https://www.php.net/manual/en/control-structures.goto.html" class="link">jump labels</a>
     (limited goto) has been added.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Support for native <a target="_blank" href="https://www.php.net/manual/en/functions.anonymous.html" class="link">Closures</a> 
     (Lambda/Anonymous functions) has been added.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     There are two new magic methods,
     <a target="_blank" href="https://www.php.net/manual/en/language.oop5.overloading.html#object.callstatic" class="link">__callStatic()</a> and 
     <a target="_blank" href="https://www.php.net/manual/en/language.oop5.magic.html#object.invoke" class="link">__invoke()</a>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <a target="_blank" href="https://www.php.net/manual/en/language.types.string.html#language.types.string.syntax.nowdoc" class="link">Nowdoc</a> syntax is
     now supported, similar to
     <a target="_blank" href="https://www.php.net/manual/en/language.types.string.html#language.types.string.syntax.heredoc" class="link">Heredoc</a> syntax,
     but with single quotes.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     It is now possible to use
     <a target="_blank" href="https://www.php.net/manual/en/language.types.string.html#language.types.string.syntax.heredoc" class="link">Heredoc</a>s to
     initialize static variables and class properties/constants.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <a target="_blank" href="https://www.php.net/manual/en/language.types.string.html#language.types.string.syntax.heredoc" class="link">Heredoc</a>s may
     now be declared using double quotes, complementing the
     <a target="_blank" href="https://www.php.net/manual/en/language.types.string.html#language.types.string.syntax.nowdoc" class="link">Nowdoc</a> syntax.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <a target="_blank" href="https://www.php.net/manual/en/language.constants.syntax.html" class="link">Constants</a> can now be
     declared outside a class using the <code class="literal">const</code> keyword.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     The <a target="_blank" href="https://www.php.net/manual/en/language.operators.comparison.html#language.operators.comparison.ternary" class="link">ternary</a>
     operator now has a shorthand form: <code class="literal">?:</code>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     The HTTP stream wrapper now considers all status codes from 200 to 399 to
     be successful.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Dynamic access to static methods is now possible:
    </span>
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB"><?php <br></span><span style="color: #007700">classÂ </span><span style="color: #0000BB">CÂ </span><span style="color: #007700">{<br>Â Â Â publicÂ staticÂ </span><span style="color: #0000BB">$fooÂ </span><span style="color: #007700">=Â </span><span style="color: #0000BB">123</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$aÂ </span><span style="color: #007700">=Â </span><span style="color: #DD0000">"C"</span><span style="color: #007700">;<br>echoÂ </span><span style="color: #0000BB">$a</span><span style="color: #007700">::</span><span style="color: #0000BB">$foo</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <p class="para">The above example will output:</p>
     <div class="example-contents screen">
<div class="cdata"><pre>
123
</pre></div>
     </div>
    </div>
   </li>
   <li class="listitem">
    <span class="simpara">
     <a target="_blank" href="https://www.php.net/manual/en/language.exceptions.html" class="link">Exceptions</a> can now be nested:
    </span>
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB"><?php <br></span><span style="color: #007700">classÂ </span><span style="color: #0000BB">MyCustomExceptionÂ </span><span style="color: #007700">extendsÂ </span><span style="color: #0000BB">ExceptionÂ </span><span style="color: #007700">{}<br><br>tryÂ {<br>Â Â Â Â throwÂ newÂ </span><span style="color: #0000BB">MyCustomException</span><span style="color: #007700">(</span><span style="color: #DD0000">"Exceptional"</span><span style="color: #007700">,Â </span><span style="color: #0000BB">112</span><span style="color: #007700">);<br>}Â catchÂ (</span><span style="color: #0000BB">ExceptionÂ $e</span><span style="color: #007700">)Â {<br>Â Â Â Â </span><span style="color: #FF8000">/*Â NoteÂ theÂ useÂ ofÂ theÂ thirdÂ parameterÂ toÂ passÂ $e<br>Â Â Â Â Â *Â intoÂ theÂ RuntimeException.Â */<br>Â Â Â Â </span><span style="color: #007700">throwÂ newÂ </span><span style="color: #0000BB">RuntimeException</span><span style="color: #007700">(</span><span style="color: #DD0000">"Rethrowing"</span><span style="color: #007700">,Â </span><span style="color: #0000BB">911</span><span style="color: #007700">,Â </span><span style="color: #0000BB">$e</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </li>
   <li class="listitem">
    <span class="simpara">
     A <a target="_blank" href="https://www.php.net/manual/en/features.gc.html" class="link">garbage collector</a> for circular
     references has been added, and is enabled by default.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     The <span class="function"><a target="_blank" href="https://www.php.net/manual/en/function.mail.html" class="function">mail()</a></span> function now supports logging of sent email
     via the <a target="_blank" href="https://www.php.net/manual/en/mail.configuration.html#ini.mail.log" class="link">mail.log</a> configuration
     directive. (Note: This only applies to email sent through this function.)
    </span>
   </li>
  </ul></div></article>    </main>
</section>    </body>
</html>
